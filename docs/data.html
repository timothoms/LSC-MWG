<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Data &amp; Correlations</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">LSC-MWG</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Introduction</a>
</li>
<li>
  <a href="data.html">Data</a>
</li>
<li>
  <a href="classifications.html">Classifications</a>
</li>
<li>
  <a href="panel.html">Panel Models</a>
</li>
<li>
  <a href="sequences.html">Sequences</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/timothoms/LSC-MWG/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Data &amp; Correlations</h1>

</div>


<div id="section"
class="section level3 tabset tabset-fade tabset-pills">
<h3 class="tabset tabset-fade tabset-pills"></h3>
<div id="dataset" class="section level4">
<h4>Dataset</h4>
<p>All the analyses are based on a large global dataset (and
accompanying codebook) which we assembled from commonly used
quantitative indicators on health, gender equality and several types of
violence. The codebook, including variable definitions and summary
statistics, is available as a Googlesheet in the shared Google Drive of
the Lancet Commission Metrics Working Group, or at this <a
href="https://docs.google.com/spreadsheets/d/1KLFTva--XHVBM-IX6qaPtuyzmIlRMnpyjUXfBdJPsag/edit?usp=sharing">link</a>
(access via logging into the shared folder provides more functionality).
The dataset is also available in the shared Dropbox folder of the
Working Group.) We begin by considering the following measures within
the categories of health outcomes, gender inequalities, state-based
violent conflict, one-sided violence, and societal violence. The code
also sets up vectors of variable names for later use.)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>link <span class="ot">&lt;-</span> <span class="st">&quot;https://docs.google.com/spreadsheets/d/1KLFTva--XHVBM-IX6qaPtuyzmIlRMnpyjUXfBdJPsag/edit?usp=sharing&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>googlesheets4<span class="sc">::</span><span class="fu">gs4_deauth</span>()</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>codebook <span class="ot">&lt;-</span> googlesheets4<span class="sc">::</span><span class="fu">read_sheet</span>(link, <span class="at">sheet =</span> <span class="st">&quot;codebook&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>IsTrue <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="sc">!</span><span class="fu">is.na</span>(x) <span class="sc">&amp;</span> x }</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;_data/dataset_LSCMWG.RData&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">1960</span>)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="co"># data &lt;- data[, names(data) %in% codebook$variable[codebook$flag %in% c(&quot;id&quot;, &quot;maybe&quot;, &quot;use&quot;)]]</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>categories <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>  <span class="at">one_sided =</span> codebook<span class="sc">$</span>variable[<span class="fu">IsTrue</span>(codebook<span class="sc">$</span>flag <span class="sc">==</span> <span class="st">&quot;use&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>    codebook<span class="sc">$</span>sub_category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;one-sided violence&quot;</span>, <span class="st">&quot;repression&quot;</span>)],</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  <span class="at">societal =</span> codebook<span class="sc">$</span>variable[<span class="fu">IsTrue</span>(codebook<span class="sc">$</span>flag <span class="sc">==</span> <span class="st">&quot;use&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>    <span class="fu">IsTrue</span>(codebook<span class="sc">$</span>sub_category <span class="sc">==</span> <span class="st">&quot;societal violence&quot;</span>)],</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>  <span class="at">conflict =</span> codebook<span class="sc">$</span>variable[<span class="fu">IsTrue</span>(codebook<span class="sc">$</span>flag <span class="sc">==</span> <span class="st">&quot;use&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>    <span class="fu">IsTrue</span>(codebook<span class="sc">$</span>sub_category <span class="sc">==</span> <span class="st">&quot;state-based conflict&quot;</span>)],</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>  <span class="at">gender =</span> codebook<span class="sc">$</span>variable[<span class="fu">IsTrue</span>(codebook<span class="sc">$</span>flag <span class="sc">==</span> <span class="st">&quot;use&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>    <span class="fu">IsTrue</span>(codebook<span class="sc">$</span>category <span class="sc">==</span> <span class="st">&quot;gender&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>    <span class="fu">IsTrue</span>(<span class="sc">!</span>codebook<span class="sc">$</span>sub_category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;labor&quot;</span>) <span class="sc">|</span> <span class="fu">is.na</span>(codebook<span class="sc">$</span>sub_category))],</span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a>  <span class="at">gender_labor =</span> codebook<span class="sc">$</span>variable[<span class="fu">IsTrue</span>(codebook<span class="sc">$</span>flag <span class="sc">==</span> <span class="st">&quot;use&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>    <span class="fu">IsTrue</span>(codebook<span class="sc">$</span>category <span class="sc">==</span> <span class="st">&quot;gender&quot;</span> <span class="sc">&amp;</span> codebook<span class="sc">$</span>sub_category <span class="sc">==</span> <span class="st">&quot;labor&quot;</span>)],</span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>  <span class="at">gender_educ =</span> codebook<span class="sc">$</span>variable[<span class="fu">IsTrue</span>(codebook<span class="sc">$</span>flag <span class="sc">==</span> <span class="st">&quot;use&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a>    <span class="fu">IsTrue</span>(codebook<span class="sc">$</span>category <span class="sc">==</span> <span class="st">&quot;gender&quot;</span> <span class="sc">&amp;</span> codebook<span class="sc">$</span>sub_category <span class="sc">==</span> <span class="st">&quot;education&quot;</span>)],</span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a>  <span class="at">health =</span> codebook<span class="sc">$</span>variable[<span class="fu">IsTrue</span>(codebook<span class="sc">$</span>flag <span class="sc">==</span> <span class="st">&quot;use&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a>    codebook<span class="sc">$</span>category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;health&quot;</span>)]</span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a>)</span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a>categories</span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a>variables <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a>  <span class="at">measurement_models =</span> <span class="fu">c</span>(<span class="st">&quot;latentmean_fariss&quot;</span>, <span class="st">&quot;v2cltort&quot;</span>, <span class="st">&quot;v2clkill&quot;</span>, <span class="st">&quot;v2caviol&quot;</span>),</span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a>  <span class="at">death_rates =</span> <span class="fu">c</span>(<span class="st">&quot;deaths_all_int_rate&quot;</span>, <span class="st">&quot;deaths_civilians_int_rate&quot;</span>, </span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a>                  <span class="st">&quot;deaths_civilians_osv_rate&quot;</span>, <span class="st">&quot;deaths_all_nsc_rate&quot;</span>, </span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a>                  <span class="st">&quot;deaths_civilians_nsc_rate&quot;</span>, <span class="st">&quot;deaths_all_ucdp_rate&quot;</span>, <span class="st">&quot;hom_odcwho_rate&quot;</span>),</span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a>  <span class="at">conflict_incidence =</span> <span class="fu">c</span>(<span class="st">&quot;conflict_internal&quot;</span>, <span class="st">&quot;war_internal&quot;</span>,  <span class="st">&quot;conflict_non_state&quot;</span>, <span class="st">&quot;conflict_one_sided&quot;</span>),</span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a>  <span class="at">health_full =</span> <span class="fu">c</span>(<span class="st">&quot;imr_wpp&quot;</span>, <span class="st">&quot;ufmr_wpp&quot;</span>, <span class="st">&quot;life_exp_wpp&quot;</span>, <span class="st">&quot;daly_ihme&quot;</span>),</span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a>  <span class="at">health =</span> <span class="fu">c</span>(<span class="st">&quot;imr_wpp&quot;</span>, <span class="st">&quot;life_exp_wpp&quot;</span>),</span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a>  <span class="at">gender_full =</span> <span class="fu">c</span>(<span class="st">&quot;labor_mod_ratio15_ilo&quot;</span>, <span class="st">&quot;wmn_parl_wdi&quot;</span>, <span class="st">&quot;tfr_wpp&quot;</span>, </span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a>                  <span class="st">&quot;asfr_adol_wpp&quot;</span>, <span class="st">&quot;daly_ratio_ihme&quot;</span>, <span class="st">&quot;mys_ratio_hdr&quot;</span>, </span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a>                  <span class="st">&quot;mys_ratio_bl&quot;</span>, <span class="st">&quot;mys_age_ratio_ihme&quot;</span>, <span class="st">&quot;mys_pop_ratio_ihme&quot;</span> ),</span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">&quot;asfr_adol_wpp&quot;</span>, <span class="st">&quot;mys_age_ratio_ihme&quot;</span>),</span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a>  <span class="at">political =</span> <span class="fu">c</span>(<span class="st">&quot;polity2_p4&quot;</span>, <span class="st">&quot;dem_bmr&quot;</span>, <span class="st">&quot;v2x_polyarchy&quot;</span>, <span class="st">&quot;v2x_libdem&quot;</span>, </span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a>                <span class="st">&quot;v2x_liberal&quot;</span>, <span class="st">&quot;v2x_partipdem&quot;</span>, <span class="st">&quot;v2x_partip&quot;</span>)</span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a>)</span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a>variables <span class="ot">&lt;-</span> <span class="fu">lapply</span>(variables, <span class="cf">function</span>(set) {</span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a>  <span class="fu">names</span>(set) <span class="ot">&lt;-</span> set </span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a>  <span class="fu">return</span>(set)</span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="country-data-coverage-over-time" class="section level4">
<h4>Country data coverage over time</h4>
<p>Due to data availability, the time period for our analyses will be
primarily from 1990 until 2015 or 2018.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">lapply</span>(categories, <span class="cf">function</span>(cat) { </span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  tbl <span class="ot">&lt;-</span> <span class="fu">lapply</span>(cat, <span class="cf">function</span>(col_name) { </span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>    <span class="fu">table</span>(data<span class="sc">$</span>year, <span class="sc">!</span><span class="fu">is.na</span>(data[, col_name]))[, <span class="st">&quot;TRUE&quot;</span>] </span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  })</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  tbl <span class="ot">&lt;-</span> <span class="fu">do.call</span>(cbind, tbl)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="fu">colnames</span>(tbl) <span class="ot">&lt;-</span> cat</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  <span class="fu">return</span>(tbl)</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>})</span></code></pre></div>
<pre><code>## $one_sided
##      deaths_civilians_osv_rate deaths_pitf_rate latentmean_fariss v2clkill v2cltort killing_estimate_mean_fariss
## 1960                         0                0               109      108      108                            0
## 1961                         0                0               113      113      113                            0
## 1962                         0                0               119      119      119                            0
## 1963                         0                0               120      120      120                            0
## 1964                         0                0               123      123      123                            0
## 1965                         0                0               127      127      127                            0
## 1966                         0                0               131      131      131                            0
## 1967                         0                0               132      132      132                            0
## 1968                         0                0               135      135      135                            0
## 1969                         0                0               135      135      135                            0
## 1970                         0                0               136      136      136                            0
## 1971                         0                0               140      140      140                            0
## 1972                         0                0               140      140      140                            0
## 1973                         0                0               141      140      140                            0
## 1974                         0                0               143      141      141                            0
## 1975                         0                0               150      148      148                            0
## 1976                         0                0               151      148      148                            0
## 1977                         0                0               152      149      149                            0
## 1978                         0                0               154      150      150                            0
## 1979                         0                0               156      150      150                            0
## 1980                         0                0               157      151      151                            0
## 1981                         0                0               159      151      151                            0
## 1982                         0                0               159      151      151                            0
## 1983                         0                0               160      151      151                            0
## 1984                         0                0               161      151      151                            0
## 1985                         0                0               161      151      151                            0
## 1986                         0                0               162      151      151                            0
## 1987                         0                0               162      151      151                            0
## 1988                         0                0               162      151      151                            0
## 1989                       163                0               162      151      151                          162
## 1990                       165                0               163      151      151                          163
## 1991                       182                0               181      166      166                          181
## 1992                       185                0               184      168      168                          184
## 1993                       189                0               188      170      170                          188
## 1994                       191                0               188      171      171                          188
## 1995                       191              191               189      171      171                          189
## 1996                       191              191               188      171      171                          188
## 1997                       191              191               189      171      171                          189
## 1998                       191              191               189      171      171                          189
## 1999                       191              191               191      171      171                          191
## 2000                       191              191               191      171      171                          191
## 2001                       191              191               191      171      171                          191
## 2002                       192              192               192      172      172                          192
## 2003                       192              192               192      172      172                          192
## 2004                       192              192               192      172      172                          192
## 2005                       192              192               192      172      172                          192
## 2006                       194              194               193      173      173                          193
## 2007                       194              194               193      173      173                          193
## 2008                       194              194               194      174      174                          194
## 2009                       194              194               194      174      174                          194
## 2010                       194              194               194      174      174                          194
## 2011                       195              195               195      175      175                          195
## 2012                       195              195               195      175      175                          195
## 2013                       195              195               195      173      173                          195
## 2014                       195              195               195      173      173                          195
## 2015                       195              195               195      173      173                          195
## 2016                       195              195               195      173      173                          195
## 2017                       195              195               195      173      173                          195
## 2018                       195              195               195      173      173                          195
## 2019                       195              195               194      171      171                           10
## 
## $societal
##      deaths_all_nsc_rate deaths_civilians_nsc_rate hom_odc_rate hom_odcwho_rate hom_who_rate v2caviol
## 1960                   0                         0            0              32           32      102
## 1961                   0                         0            0              36           36      107
## 1962                   0                         0            0              36           36      113
## 1963                   0                         0            0              40           40      114
## 1964                   0                         0            0              42           42      117
## 1965                   0                         0            0              46           46      121
## 1966                   0                         0            0              45           45      125
## 1967                   0                         0            0              49           49      125
## 1968                   0                         0            0              52           52      128
## 1969                   0                         0            0              50           50      128
## 1970                   0                         0            0              48           48      129
## 1971                   0                         0            0              47           47      133
## 1972                   0                         0            0              47           47      133
## 1973                   0                         0            0              48           48      133
## 1974                   0                         0            0              51           51      134
## 1975                   0                         0            0              53           53      141
## 1976                   0                         0            0              50           50      142
## 1977                   0                         0            0              58           58      143
## 1978                   0                         0            0              55           55      144
## 1979                   0                         0            0              53           53      144
## 1980                   0                         0            0              56           56      145
## 1981                   0                         0            0              58           58      145
## 1982                   0                         0            0              52           52      145
## 1983                   0                         0            0              58           58      145
## 1984                   0                         0            0              60           60      145
## 1985                   0                         0            0              60           60      145
## 1986                   0                         0            0              59           59      145
## 1987                   0                         0            0              68           68      145
## 1988                   0                         0            0              60           60      145
## 1989                 163                       163            0              62           62      145
## 1990                 165                       165           68              85           63      147
## 1991                 182                       182           80              99           77      163
## 1992                 185                       185           87             102           80      165
## 1993                 189                       189           86             102           80      167
## 1994                 191                       191           93             107           79      168
## 1995                 191                       191           95             105           75      168
## 1996                 191                       191           94             103           62      168
## 1997                 191                       191           97             103           50      168
## 1998                 191                       191           97             101           40      168
## 1999                 191                       191          100             101           30      168
## 2000                 191                       191          112             114           23      169
## 2001                 191                       191          119             121           18      169
## 2002                 192                       192          118             120           16      170
## 2003                 192                       192          132             132           14      170
## 2004                 192                       192          139             139           11      170
## 2005                 192                       192          136             136            8      170
## 2006                 194                       194          141             141            5      171
## 2007                 194                       194          143             143            4      171
## 2008                 194                       194          153             153           20      172
## 2009                 194                       194          150             151           17      172
## 2010                 194                       194          154             155           18      172
## 2011                 195                       195          144             145           18      173
## 2012                 195                       195          146             147           18      173
## 2013                 195                       195          127             129           18      167
## 2014                 195                       195          123             126           18      167
## 2015                 195                       195          125             130           15      167
## 2016                 195                       195          119             125           25      167
## 2017                 195                       195          110             114           21      167
## 2018                 195                       195           87              90           15      167
## 2019                 195                       195            0              11           11      168
## 
## $conflict
##      conflict_internal deaths_all_ext_rate deaths_all_int_rate deaths_civilians_ext_rate deaths_civilians_int_rate
## 1960               113                   0                   0                         0                         0
## 1961               117                   0                   0                         0                         0
## 1962               124                   0                   0                         0                         0
## 1963               125                   0                   0                         0                         0
## 1964               128                   0                   0                         0                         0
## 1965               132                   0                   0                         0                         0
## 1966               136                   0                   0                         0                         0
## 1967               137                   0                   0                         0                         0
## 1968               141                   0                   0                         0                         0
## 1969               141                   0                   0                         0                         0
## 1970               143                   0                   0                         0                         0
## 1971               148                   0                   0                         0                         0
## 1972               148                   0                   0                         0                         0
## 1973               149                   0                   0                         0                         0
## 1974               151                   0                   0                         0                         0
## 1975               158                   0                   0                         0                         0
## 1976               158                   0                   0                         0                         0
## 1977               159                   0                   0                         0                         0
## 1978               162                   0                   0                         0                         0
## 1979               165                   0                   0                         0                         0
## 1980               166                   0                   0                         0                         0
## 1981               168                   0                   0                         0                         0
## 1982               168                   0                   0                         0                         0
## 1983               169                   0                   0                         0                         0
## 1984               169                   0                   0                         0                         0
## 1985               169                   0                   0                         0                         0
## 1986               171                   0                   0                         0                         0
## 1987               171                   0                   0                         0                         0
## 1988               171                   0                   0                         0                         0
## 1989               171                 163                 163                       163                       163
## 1990               171                 165                 165                       165                       165
## 1991               186                 182                 182                       182                       182
## 1992               188                 185                 185                       185                       185
## 1993               190                 189                 189                       189                       189
## 1994               192                 191                 191                       191                       191
## 1995               192                 191                 191                       191                       191
## 1996               192                 191                 191                       191                       191
## 1997               192                 191                 191                       191                       191
## 1998               192                 191                 191                       191                       191
## 1999               192                 191                 191                       191                       191
## 2000               192                 191                 191                       191                       191
## 2001               192                 191                 191                       191                       191
## 2002               193                 192                 192                       192                       192
## 2003               193                 192                 192                       192                       192
## 2004               193                 192                 192                       192                       192
## 2005               193                 192                 192                       192                       192
## 2006               194                 194                 194                       194                       194
## 2007               194                 194                 194                       194                       194
## 2008               195                 194                 194                       194                       194
## 2009               195                 194                 194                       194                       194
## 2010               195                 194                 194                       194                       194
## 2011               196                 195                 195                       195                       195
## 2012               196                 195                 195                       195                       195
## 2013               196                 195                 195                       195                       195
## 2014               196                 195                 195                       195                       195
## 2015               196                 195                 195                       195                       195
## 2016               196                 195                 195                       195                       195
## 2017               196                 195                 195                       195                       195
## 2018               196                 195                 195                       195                       195
## 2019               196                 195                 195                       195                       195
## 
## $gender
##      gdi_hdr gii_hdr wmn_parl_wdi asfr_adol_wpp fert_adol_wdi fertility_wdi tfr_wpp
## 1960       0       0            0           101           100           100     101
## 1961       0       0            0             0           104           103       0
## 1962       0       0            0             0           110           110       0
## 1963       0       0            0             0           111           110       0
## 1964       0       0            0             0           114           114       0
## 1965       0       0            0           119           118           118     119
## 1966       0       0            0             0           122           122       0
## 1967       0       0            0             0           122           122       0
## 1968       0       0            0             0           125           125       0
## 1969       0       0            0             0           125           125       0
## 1970       0       0            0           128           127           127     128
## 1971       0       0            0             0           132           132       0
## 1972       0       0            0             0           132           132       0
## 1973       0       0            0             0           133           133       0
## 1974       0       0            0             0           135           135       0
## 1975       0       0            0           143           142           142     143
## 1976       0       0            0             0           144           144       0
## 1977       0       0            0             0           145           144       0
## 1978       0       0            0             0           146           145       0
## 1979       0       0            0             0           149           148       0
## 1980       0       0            0           151           150           149     151
## 1981       0       0            0             0           152           151       0
## 1982       0       0            0             0           152           153       0
## 1983       0       0            0             0           152           151       0
## 1984       0       0            0             0           152           151       0
## 1985       0       0            0           153           152           151     153
## 1986       0       0            0             0           153           152       0
## 1987       0       0            0             0           153           156       0
## 1988       0       0            0             0           153           152       0
## 1989       0       0            0             0           153           152       0
## 1990       0       0            0           156           155           154     156
## 1991       0       0            0             0           172           171       0
## 1992       0       0            0             0           175           177       0
## 1993       0       0            0             0           178           177       0
## 1994       0       0            0             0           179           178       0
## 1995     117     121            0           181           179           179     181
## 1996       0       0            0             0           179           178       0
## 1997       0       0          159             0           179           181       0
## 1998       0       0          161             0           179           179       0
## 1999       0       0          152             0           179           180       0
## 2000     145     119          156           181           179           181     181
## 2001       0       0          166             0           179           180       0
## 2002       0       0          160             0           180           183       0
## 2003       0       0          174             0           180           182       0
## 2004       0       0          180             0           180           181       0
## 2005     156     144          184           182           180           183     182
## 2006       0       0          188             0           182           185       0
## 2007       0       0          187             0           182           185       0
## 2008       0       0          186             0           182           185       0
## 2009       0       0          186             0           182           185       0
## 2010     161     150          186           184           182           185     184
## 2011     163     151          186             0           182           185       0
## 2012     163     154          187             0           182           186       0
## 2013     163     150          182             0           182           184       0
## 2014     164     152          185             0           182           184       0
## 2015     164     158          187           185           182           185     185
## 2016     164     162          190             0           182           184       0
## 2017     165     160          188             0           182           184       0
## 2018     165     160          189           185           182           184     185
## 2019     166     162          191             0           182           184       0
## 
## $gender_labor
##      labor_mod_ratio15_ilo labor_mod_ratio15_wdi labor_nat_ratio15_ilo labor_nat_ratio15_wdi
## 1960                     0                     0                    31                    31
## 1961                     0                     0                    20                    20
## 1962                     0                     0                     7                     7
## 1963                     0                     0                     9                     9
## 1964                     0                     0                     6                     6
## 1965                     0                     0                     8                     8
## 1966                     0                     0                    15                    15
## 1967                     0                     0                     3                     3
## 1968                     0                     0                     3                     3
## 1969                     0                     0                     3                     3
## 1970                     0                     0                    34                    34
## 1971                     0                     0                    23                    23
## 1972                     0                     0                     9                     9
## 1973                     0                     0                    10                     9
## 1974                     0                     0                    12                    12
## 1975                     0                     0                    29                    29
## 1976                     0                     0                    27                    27
## 1977                     0                     0                    25                    26
## 1978                     0                     0                    32                    32
## 1979                     0                     0                    40                    39
## 1980                     0                     0                    61                    60
## 1981                     0                     0                    49                    48
## 1982                     0                     0                    39                    38
## 1983                     0                     0                    46                    44
## 1984                     0                     0                    44                    42
## 1985                     0                     0                    56                    54
## 1986                     0                     0                    56                    54
## 1987                     0                     0                    51                    49
## 1988                     0                     0                    55                    53
## 1989                     0                     0                    63                    61
## 1990                   153                   150                    70                    68
## 1991                   169                   167                    83                    83
## 1992                   172                   170                    65                    64
## 1993                   175                   173                    72                    71
## 1994                   176                   174                    77                    76
## 1995                   176                   174                    76                    75
## 1996                   176                   174                    87                    86
## 1997                   176                   174                    85                    84
## 1998                   176                   174                    88                    87
## 1999                   176                   174                    87                    88
## 2000                   176                   174                    99                   100
## 2001                   176                   174                    97                    97
## 2002                   177                   175                    96                    96
## 2003                   177                   175                    99                    98
## 2004                   177                   175                   100                   100
## 2005                   177                   175                   107                   106
## 2006                   179                   177                   106                   107
## 2007                   179                   177                   103                   102
## 2008                   179                   177                   103                   103
## 2009                   179                   177                   112                   114
## 2010                   179                   177                   115                   116
## 2011                   180                   177                   113                   115
## 2012                   180                   177                   118                   118
## 2013                   180                   177                   118                   118
## 2014                   180                   177                   123                   122
## 2015                   180                   177                   114                   111
## 2016                   180                   177                   112                   114
## 2017                   180                   177                   111                   118
## 2018                   180                   177                    98                   106
## 2019                   180                   177                    64                   107
## 
## $gender_educ
##      eys_ratio_hdr eys_ratio_uis lit_adult_ratio_uis lit_rate_ratio_wdi mys_ratio_hdr mys_ratio_uis mys_ratio_bl mys_age_ratio_ihme mys_pop_ratio_ihme
## 1960             0             0                   0                  0             0             0           91                  0                  0
## 1961             0             0                   0                  0             0             0            0                  0                  0
## 1962             0             0                   0                  0             0             0            0                  0                  0
## 1963             0             0                   0                  0             0             0            0                  0                  0
## 1964             0             0                   0                  0             0             0            0                  0                  0
## 1965             0             0                   0                  0             0             0          108                  0                  0
## 1966             0             0                   0                  0             0             0            0                  0                  0
## 1967             0             0                   0                  0             0             0            0                  0                  0
## 1968             0             0                   0                  0             0             0            0                  0                  0
## 1969             0             0                   0                  0             0             0            0                  0                  0
## 1970             0            29                   1                  1             0            27          116                130                130
## 1971             0            98                   0                  0             0            17            0                135                135
## 1972             0            93                   1                  1             0             5            0                135                135
## 1973             0            91                   0                  0             0             3            0                136                136
## 1974             0            86                   0                  0             0             5            0                138                138
## 1975             0            85                   6                  6             0            13          123                145                145
## 1976             0            94                   7                  7             0             9            0                147                147
## 1977             0            96                   1                  1             0             2            0                148                148
## 1978             0            93                   2                  2             0             2            0                150                150
## 1979             0            94                   6                  6             0             6            0                153                153
## 1980             0            91                  16                 16             0            23          124                154                154
## 1981             0            98                  16                 16             0            21            0                156                156
## 1982             0            95                   7                  7             0             7            0                156                156
## 1983             0            96                   2                  2             0             4            0                156                156
## 1984             0           100                   7                  8             0             4            0                156                156
## 1985             0            96                   6                  6             0             6          125                156                156
## 1986             0           104                   4                  4             0             8            0                158                158
## 1987             0            98                   3                  3             0             2            0                158                158
## 1988             0            99                   5                  5             0             6            0                158                158
## 1989             0            96                   1                  1             0             2            0                158                158
## 1990            94            92                  15                 15           125            19          127                160                160
## 1991             0            95                  20                 20             0            16            0                177                177
## 1992             0            94                   9                  9             0             8            0                180                180
## 1993             0           105                   4                  4             0             2            0                183                183
## 1994             0            98                  11                 11             0             3            0                184                184
## 1995           145            92                   5                  5           143             5          142                184                184
## 1996             0            87                   9                  9             0             5            0                184                184
## 1997             0            71                   3                  3             0             0            0                184                184
## 1998             0            84                   6                  6             0             3            0                184                184
## 1999             0           134                   8                  8             0             4            0                184                184
## 2000           166           131                  43                 44           154            16          142                184                184
## 2001             0           127                  28                 29             0            22            0                184                184
## 2002             0           129                  19                 20             0            16            0                185                185
## 2003             0           124                  10                 10             0            11            0                185                185
## 2004             0           136                  24                 25             0            29            0                185                185
## 2005           171           139                  20                 22           165            33          142                185                185
## 2006             0           134                  26                 28             0            50            0                187                187
## 2007             0           138                  35                 36             0            53            0                187                187
## 2008             0           136                  32                 32             0            62            0                187                187
## 2009             0           133                  34                 35             0            63            0                187                187
## 2010           178           135                  48                 51           168            74          143                187                187
## 2011           180           138                  57                 58           170            76            0                188                188
## 2012           180           131                  45                 46           170            67            0                188                188
## 2013           180           117                  34                 34           170            58            0                188                188
## 2014           180           128                  52                 52           171            68            0                188                188
## 2015           181           131                  42                 42           171            64          143                188                188
## 2016           181           126                  34                 35           171            61            0                  0                  0
## 2017           182           123                  32                 32           171            48            0                  0                  0
## 2018           182            64                  77                 77           171            35            0                  0                  0
## 2019           182             4                   0                  1           173             0            0                  0                  0
## 
## $health
##      daly_ihme imr_wdi imr_wpp life_exp_wdi life_exp_wpp ufmr_wdi ufmr_wpp physicians_pc_wdi daly_ratio_ihme mmr_unicef
## 1960         0      74     101           99          101       74      101                85               0          0
## 1961         0      78       0          104            0       78        0                18               0          0
## 1962         0      87       0          110            0       87        0                16               0          0
## 1963         0      89       0          110            0       89        0                16               0          0
## 1964         0      93       0          113            0       93        0                16               0          0
## 1965         0      98     119          117          119       98      119                98               0          0
## 1966         0     103       0          122            0      103        0                19               0          0
## 1967         0     104       0          122            0      104        0                17               0          0
## 1968         0     108       0          125            0      108        0                17               0          0
## 1969         0     112       0          125            0      112        0                17               0          0
## 1970         0     114     128          127          128      114      128               112               0          0
## 1971         0     121       0          132            0      121        0                25               0          0
## 1972         0     123       0          132            0      123        0                21               0          0
## 1973         0     124       0          133            0      124        0                22               0          0
## 1974         0     127       0          135            0      127        0                20               0          0
## 1975         0     133     143          142          143      133      143                80               0          0
## 1976         0     135       0          143            0      135        0                25               0          0
## 1977         0     136       0          144            0      136        0                26               0          0
## 1978         0     143       0          145            0      143        0                24               0          0
## 1979         0     146       0          148            0      146        0                34               0          0
## 1980         0     148     151          150          151      148      151                68               0          0
## 1981         0     150       0          152            0      150        0                91               0          0
## 1982         0     152       0          153            0      152        0                42               0          0
## 1983         0     154       0          152            0      154        0                35               0          0
## 1984         0     154       0          152            0      154        0                72               0          0
## 1985         0     159     153          152          153      159      153                57               0          0
## 1986         0     161       0          153            0      161        0                50               0          0
## 1987         0     161       0          156            0      161        0                37               0          0
## 1988         0     161       0          153            0      161        0                45               0          0
## 1989         0     161       0          153            0      161        0                48               0          0
## 1990       160     163     156          155          156      163      156               119             160          0
## 1991       177     180       0          172            0      180        0                89             177          0
## 1992       180     183       0          177            0      183        0                91             180          0
## 1993       183     186       0          178            0      186        0               115             183          0
## 1994       184     188       0          180            0      188        0                88             184          0
## 1995       184     188     181          181          181      188      181               121             184          0
## 1996       184     188       0          180            0      188        0               105             184          0
## 1997       184     188       0          182            0      188        0               111             184          0
## 1998       184     188       0          180            0      188        0                95             184          0
## 1999       184     188       0          181            0      188        0                91             184          0
## 2000       184     188     181          182          181      188      181               107             184        180
## 2001       184     188       0          180            0      188        0               100             184          0
## 2002       185     189       0          183            0      189        0                95             185          0
## 2003       185     189       0          181            0      189        0                88             185          0
## 2004       185     189       0          181            0      189        0               133             185          0
## 2005       185     189     182          182          182      189      182               105             185        181
## 2006       187     191       0          183            0      191        0               104             187          0
## 2007       187     191       0          183            0      191        0               117             187          0
## 2008       187     191       0          184            0      191        0               137             187          0
## 2009       187     191       0          184            0      191        0               135             187          0
## 2010       187     191     184          184          184      191      184               164             187        183
## 2011       188     191       0          184            0      191        0               117             188          0
## 2012       188     191       0          185            0      191        0               115             188          0
## 2013       188     191       0          184            0      191        0               115             188          0
## 2014       188     191       0          184            0      191        0               113             188          0
## 2015       188     191     185          184          185      191      185               105             188        184
## 2016       188     191       0          184            0      191        0               112             188          0
## 2017       188     191       0          184            0      191        0               103             188        184
## 2018         0     191     185          184          185      191      185                61               0          0
## 2019         0     191       0          184            0      191        0                 0               0          0</code></pre>
</div>
<div id="within-category-correlations" class="section level4">
<h4>Within-category correlations</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">names</span>(categories), <span class="cf">function</span>(category) {</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>(data[, categories[[category]]], <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">stroke =</span> <span class="dv">0</span>, <span class="at">alpha =</span> <span class="fl">0.25</span>)) <span class="sc">+</span> </span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">strip.text.y.right =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    <span class="fu">ggtitle</span>(category)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>})</span></code></pre></div>
<p><img src="data_files/figure-html/within-1.png" width="100%" height="100%" /><img src="data_files/figure-html/within-2.png" width="100%" height="100%" /><img src="data_files/figure-html/within-3.png" width="100%" height="100%" /><img src="data_files/figure-html/within-4.png" width="100%" height="100%" /><img src="data_files/figure-html/within-5.png" width="100%" height="100%" /><img src="data_files/figure-html/within-6.png" width="100%" height="100%" /><img src="data_files/figure-html/within-7.png" width="100%" height="100%" /></p>
</div>
<div id="across-category-correlations" class="section level4">
<h4>Across-category correlations</h4>
<p>Based on theoretical relevance and representativeness (see
within-category correlations), we show correlations of certain of these
variables across the categories:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>variables_to_include <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;labor_mod_ratio15_ilo&quot;</span>, <span class="st">&quot;mys_ratio_hdr&quot;</span>, <span class="st">&quot;mys_age_ratio_ihme&quot;</span>, <span class="st">&quot;tfr_wpp&quot;</span>, </span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>                          <span class="st">&quot;asfr_adol_wpp&quot;</span>, <span class="st">&quot;imr_wpp&quot;</span>, <span class="st">&quot;ufmr_wpp&quot;</span>, <span class="st">&quot;daly_ihme&quot;</span>, <span class="st">&quot;physicians_pc_wdi&quot;</span>, </span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>                          <span class="st">&quot;life_exp_wpp&quot;</span>, <span class="st">&quot;pc_rgdpe_pwt&quot;</span>, <span class="st">&quot;deaths_all_int_rate&quot;</span>, <span class="st">&quot;deaths_all_osv_rate&quot;</span>, </span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>                          <span class="st">&quot;latentmean_fariss&quot;</span>, <span class="st">&quot;killing_estimate_mean_fariss&quot;</span>, <span class="st">&quot;deaths_all_nsc_rate&quot;</span>, <span class="st">&quot;hom_odcwho_rate&quot;</span>)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>GGally<span class="sc">::</span><span class="fu">ggpairs</span>(data[, variables_to_include], <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">stroke =</span> <span class="dv">0</span>, <span class="at">alpha =</span> <span class="fl">0.25</span>)) <span class="sc">+</span> </span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">strip.text.y.right =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>))</span></code></pre></div>
<p><img src="data_files/figure-html/across-1.png" width="100%" height="100%" /></p>
</div>
<div
id="which-countries-have-such-high-ratios-of-years-of-schooling-in-favor-of-women"
class="section level4">
<h4>Which countries have such high ratios of years of schooling in favor
of women?</h4>
<p>We noticed that some of the education ratios (female to male) are
surprisingly high, and want to know which country-years account for
this.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>variables<span class="sc">$</span>ed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;mys_ratio_hdr&quot;</span>, <span class="st">&quot;mys_ratio_uis&quot;</span>, <span class="st">&quot;mys_age_ratio_ihme&quot;</span>, <span class="st">&quot;eys_ratio_hdr&quot;</span>, <span class="st">&quot;eys_ratio_uis&quot;</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">summary</span>(data[, variables<span class="sc">$</span>ed])</span></code></pre></div>
<pre><code>##  mys_ratio_hdr   mys_ratio_uis   mys_age_ratio_ihme eys_ratio_hdr   eys_ratio_uis  
##  Min.   :0.104   Min.   :0.081   Min.   :0.1226     Min.   :0.080   Min.   :0.052  
##  1st Qu.:0.744   1st Qu.:0.878   1st Qu.:0.5306     1st Qu.:0.942   1st Qu.:0.884  
##  Median :0.937   Median :0.956   Median :0.8374     Median :1.024   Median :0.989  
##  Mean   :0.859   Mean   :0.902   Mean   :0.7455     Mean   :0.989   Mean   :0.925  
##  3rd Qu.:1.000   3rd Qu.:1.002   3rd Qu.:0.9516     3rd Qu.:1.064   3rd Qu.:1.015  
##  Max.   :1.529   Max.   :1.267   Max.   :1.2726     Max.   :1.317   Max.   :1.441  
##  NA&#39;s   :8015    NA&#39;s   :9165    NA&#39;s   :2538       NA&#39;s   :7926    NA&#39;s   :5100</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">unique</span>(data<span class="sc">$</span>country[<span class="fu">IsTrue</span>(data<span class="sc">$</span>mys_ratio_hdr <span class="sc">&gt;</span> <span class="dv">1</span>)]), <span class="at">collapse =</span> <span class="st">&quot;; &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Argentina; Armenia; Australia; Bahamas; Barbados; Belize; Brazil; Bulgaria; Canada; Colombia; Costa Rica; Cuba; Denmark; Dominican Republic; Estonia; Fiji; Finland; Gabon; Georgia; Guyana; Honduras; Iceland; Ireland; Israel; Jamaica; Japan; Jordan; Kazakhstan; Kuwait; Kyrgyzstan; Latvia; Lesotho; Libya; Lithuania; Madagascar; Malawi; Malta; Moldova; Mongolia; Myanmar; Namibia; New Zealand; Nicaragua; Norway; Oman; Panama; Paraguay; Philippines; Poland; Portugal; Qatar; Saint Lucia; Saint Vincent &amp; the Grenadines; Suriname; Sweden; Tonga; Trinidad &amp; Tobago; United Arab Emirates; United States of America; Uruguay; Venezuela&quot;</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># data[IsTrue(data$mys_ratio_hdr &gt; 1), c(&quot;country&quot;, &quot;year&quot;, variables$ed)]</span></span></code></pre></div>
</div>
<div id="inverting-variables-for-comparable-interpretations"
class="section level4">
<h4>Inverting variables for comparable interpretations</h4>
<p>Since we are dealing with a wide range of measures, we need to ensure
that they reflect the same “direction” of effects. We do this by coding
the negative of some variables, so that higher values indicate better
outcomes for the health and gender categories and higher values indicate
worse outcomes for the violence categories.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>variables<span class="sc">$</span>negative <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;imr_wpp&quot;</span>, <span class="st">&quot;ufmr_wpp&quot;</span>, <span class="st">&quot;mmr_unicef&quot;</span>, <span class="st">&quot;daly_ihme&quot;</span>, <span class="st">&quot;asfr_adol_wpp&quot;</span>, <span class="st">&quot;tfr_wpp&quot;</span>, <span class="st">&quot;gii_hdr&quot;</span>,</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>                        <span class="st">&quot;latentmean_fariss&quot;</span>, <span class="st">&quot;v2cltort&quot;</span>, <span class="st">&quot;v2clkill&quot;</span>, <span class="st">&quot;latentmean_fariss_cumulative1991&quot;</span>, </span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>                        <span class="st">&quot;latentmean_fariss_cumulative1996&quot;</span>, <span class="st">&quot;v2cltort_cumulative1991&quot;</span>, </span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>                        <span class="st">&quot;v2cltort_cumulative1996&quot;</span>, <span class="st">&quot;v2clkill_cumulative1991&quot;</span>, <span class="st">&quot;v2clkill_cumulative1996&quot;</span>)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="fu">summary</span>(data[, <span class="fu">c</span>(variables<span class="sc">$</span>negative[<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>])])</span></code></pre></div>
<pre><code>##     imr_wpp           ufmr_wpp         mmr_unicef     daly_ihme      asfr_adol_wpp        tfr_wpp         gii_hdr      latentmean_fariss    v2cltort     
##  Min.   :  1.254   Min.   :  1.765   Min.   :   2   Min.   : 15334   Min.   :  0.283   Min.   :1.051   Min.   :0.025   Min.   :-3.4595   Min.   :-3.150  
##  1st Qu.: 15.363   1st Qu.: 18.328   1st Qu.:  17   1st Qu.: 27130   1st Qu.: 29.676   1st Qu.:2.170   1st Qu.:0.208   1st Qu.:-0.8403   1st Qu.:-0.879  
##  Median : 40.161   Median : 50.881   Median :  65   Median : 32776   Median : 69.553   Median :3.782   Median :0.405   Median : 0.1710   Median : 0.446  
##  Mean   : 56.186   Mean   : 84.469   Mean   : 202   Mean   : 43276   Mean   : 78.652   Mean   :4.065   Mean   :0.379   Mean   : 0.3545   Mean   : 0.422  
##  3rd Qu.: 85.913   3rd Qu.:129.686   3rd Qu.: 277   3rd Qu.: 50724   3rd Qu.:117.050   3rd Qu.:5.955   3rd Qu.:0.537   3rd Qu.: 1.4236   3rd Qu.: 1.747  
##  Max.   :319.239   Max.   :465.517   Max.   :2480   Max.   :788016   Max.   :242.574   Max.   :8.800   Max.   :0.819   Max.   : 5.3362   Max.   : 3.509  
##  NA&#39;s   :8259      NA&#39;s   :8259      NA&#39;s   :9396   NA&#39;s   :5145     NA&#39;s   :8259      NA&#39;s   :8259    NA&#39;s   :8365    NA&#39;s   :274       NA&#39;s   :975</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>data[, variables<span class="sc">$</span>negative] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(data[, variables<span class="sc">$</span>negative], <span class="st">&#39;-&#39;</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="fu">summary</span>(data[, <span class="fu">c</span>(variables<span class="sc">$</span>negative[<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>])])</span></code></pre></div>
<pre><code>##     imr_wpp            ufmr_wpp          mmr_unicef      daly_ihme       asfr_adol_wpp         tfr_wpp          gii_hdr       latentmean_fariss    v2cltort     
##  Min.   :-319.239   Min.   :-465.517   Min.   :-2480   Min.   :-788016   Min.   :-242.574   Min.   :-8.800   Min.   :-0.819   Min.   :-5.3362   Min.   :-3.509  
##  1st Qu.: -85.913   1st Qu.:-129.686   1st Qu.: -277   1st Qu.: -50724   1st Qu.:-117.050   1st Qu.:-5.955   1st Qu.:-0.537   1st Qu.:-1.4236   1st Qu.:-1.747  
##  Median : -40.161   Median : -50.881   Median :  -65   Median : -32776   Median : -69.553   Median :-3.782   Median :-0.405   Median :-0.1710   Median :-0.446  
##  Mean   : -56.186   Mean   : -84.469   Mean   : -202   Mean   : -43276   Mean   : -78.652   Mean   :-4.065   Mean   :-0.379   Mean   :-0.3545   Mean   :-0.422  
##  3rd Qu.: -15.363   3rd Qu.: -18.328   3rd Qu.:  -17   3rd Qu.: -27130   3rd Qu.: -29.676   3rd Qu.:-2.170   3rd Qu.:-0.208   3rd Qu.: 0.8403   3rd Qu.: 0.879  
##  Max.   :  -1.254   Max.   :  -1.765   Max.   :   -2   Max.   : -15334   Max.   :  -0.283   Max.   :-1.051   Max.   :-0.025   Max.   : 3.4595   Max.   : 3.150  
##  NA&#39;s   :8259       NA&#39;s   :8259       NA&#39;s   :9396    NA&#39;s   :5145      NA&#39;s   :8259       NA&#39;s   :8259     NA&#39;s   :8365     NA&#39;s   :274       NA&#39;s   :975</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">names</span>(data)[<span class="fu">str_detect</span>(<span class="fu">names</span>(data), <span class="st">&quot;gini&quot;</span>)]</span></code></pre></div>
<pre><code>## [1] &quot;gini_wdi&quot;       &quot;gini_disp_mean&quot; &quot;gini_disp_sd&quot;</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">1970</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">check =</span> <span class="sc">!</span><span class="fu">is.na</span>(gini_disp_mean)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>  <span class="fu">select</span>(year, check) <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>  table</span></code></pre></div>
<pre><code>##       check
## year   FALSE TRUE
##   1970   107   36
##   1971   110   38
##   1972   108   40
##   1973   105   44
##   1974   105   46
##   1975   110   48
##   1976   107   51
##   1977   105   54
##   1978   107   55
##   1979   107   58
##   1980   106   60
##   1981   105   63
##   1982   105   63
##   1983   104   65
##   1984   102   67
##   1985    95   74
##   1986    93   78
##   1987    89   82
##   1988    85   86
##   1989    82   89
##   1990    81   90
##   1991    80  106
##   1992    70  118
##   1993    67  123
##   1994    64  128
##   1995    58  134
##   1996    51  141
##   1997    50  142
##   1998    48  144
##   1999    45  147
##   2000    42  150
##   2001    38  154
##   2002    33  160
##   2003    31  162
##   2004    30  163
##   2005    24  169
##   2006    19  175
##   2007    19  175
##   2008    21  174
##   2009    27  168
##   2010    30  165
##   2011    36  160
##   2012    40  156
##   2013    47  149
##   2014    52  144
##   2015    67  129
##   2016    83  113
##   2017    98   98
##   2018   115   81
##   2019   152   44</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>year, <span class="sc">!</span><span class="fu">is.na</span>(data<span class="sc">$</span>gini_disp_mean))</span></code></pre></div>
<pre><code>##       
##        FALSE TRUE
##   1960   109    4
##   1961   108    9
##   1962   110   14
##   1963   110   15
##   1964   111   17
##   1965   112   20
##   1966   115   21
##   1967   114   23
##   1968   115   26
##   1969   110   31
##   1970   107   36
##   1971   110   38
##   1972   108   40
##   1973   105   44
##   1974   105   46
##   1975   110   48
##   1976   107   51
##   1977   105   54
##   1978   107   55
##   1979   107   58
##   1980   106   60
##   1981   105   63
##   1982   105   63
##   1983   104   65
##   1984   102   67
##   1985    95   74
##   1986    93   78
##   1987    89   82
##   1988    85   86
##   1989    82   89
##   1990    81   90
##   1991    80  106
##   1992    70  118
##   1993    67  123
##   1994    64  128
##   1995    58  134
##   1996    51  141
##   1997    50  142
##   1998    48  144
##   1999    45  147
##   2000    42  150
##   2001    38  154
##   2002    33  160
##   2003    31  162
##   2004    30  163
##   2005    24  169
##   2006    19  175
##   2007    19  175
##   2008    21  174
##   2009    27  168
##   2010    30  165
##   2011    36  160
##   2012    40  156
##   2013    47  149
##   2014    52  144
##   2015    67  129
##   2016    83  113
##   2017    98   98
##   2018   115   81
##   2019   152   44</code></pre>
</div>
<div id="variable-transformations-and-coding-performance-measures"
class="section level4">
<h4>Variable transformations and coding performance measures</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(country, year) <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">period =</span> <span class="fu">cut</span>(year, <span class="fu">seq</span>(<span class="dv">1960</span>, <span class="dv">2020</span>, <span class="dv">5</span>), <span class="at">right =</span> <span class="cn">TRUE</span>))</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="fu">names</span>(vars) <span class="ot">&lt;-</span> vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;pc_rgdpe_pwt&quot;</span>, <span class="st">&quot;growth_rgdpe_pwt&quot;</span>, <span class="st">&quot;pop_wpp&quot;</span>, <span class="st">&quot;pop_density_wpp&quot;</span>, </span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>                         <span class="st">&quot;imr_wpp&quot;</span>, <span class="st">&quot;ufmr_wpp&quot;</span>, <span class="st">&quot;life_exp_wpp&quot;</span>, <span class="st">&quot;daly_ihme&quot;</span>, <span class="st">&quot;asfr_adol_wpp&quot;</span>, </span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>                         <span class="st">&quot;mys_age_ratio_ihme&quot;</span>, <span class="st">&quot;mys_pop_ratio_ihme&quot;</span>, <span class="st">&quot;mys_ratio_hdr&quot;</span>, </span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>                         <span class="st">&quot;labor_mod_ratio15_ilo&quot;</span>, <span class="st">&quot;gii_hdr&quot;</span>, <span class="st">&quot;conflict_internal&quot;</span>, </span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>                         <span class="st">&quot;war_internal&quot;</span>, <span class="st">&quot;conflict_non_state&quot;</span>, <span class="st">&quot;conflict_one_sided&quot;</span>, </span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>                         <span class="st">&quot;deaths_all_int&quot;</span>, <span class="st">&quot;deaths_civilians_int&quot;</span>, <span class="st">&quot;deaths_civilians_osv&quot;</span>, </span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a>                         <span class="st">&quot;deaths_all_nsc&quot;</span>, <span class="st">&quot;deaths_civilians_nsc&quot;</span>, <span class="st">&quot;deaths_all_ucdp&quot;</span>, </span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a>                         <span class="st">&quot;hom_odcwho&quot;</span>, <span class="st">&quot;deaths_all_int_rate&quot;</span>, <span class="st">&quot;deaths_civilians_int_rate&quot;</span>, </span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a>                         <span class="st">&quot;deaths_civilians_osv_rate&quot;</span>, <span class="st">&quot;deaths_all_nsc_rate&quot;</span>, </span>
<span id="cb21-13"><a href="#cb21-13" tabindex="-1"></a>                         <span class="st">&quot;deaths_civilians_nsc_rate&quot;</span>, <span class="st">&quot;deaths_all_ucdp_rate&quot;</span>, <span class="st">&quot;hom_odcwho_rate&quot;</span>, </span>
<span id="cb21-14"><a href="#cb21-14" tabindex="-1"></a>                         <span class="st">&quot;latentmean_fariss&quot;</span>, <span class="st">&quot;v2cltort&quot;</span>, <span class="st">&quot;v2clkill&quot;</span>, <span class="st">&quot;v2caviol&quot;</span>, </span>
<span id="cb21-15"><a href="#cb21-15" tabindex="-1"></a>                         <span class="st">&quot;v2x_polyarchy&quot;</span>, <span class="st">&quot;v2x_libdem&quot;</span>, <span class="st">&quot;v2x_liberal&quot;</span>, <span class="st">&quot;v2x_partipdem&quot;</span>, <span class="st">&quot;v2x_partip&quot;</span>)</span>
<span id="cb21-16"><a href="#cb21-16" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb21-17"><a href="#cb21-17" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(country, period, year) <span class="sc">%&gt;%</span> </span>
<span id="cb21-18"><a href="#cb21-18" tabindex="-1"></a>  <span class="fu">group_by</span>(country, period) <span class="sc">%&gt;%</span> </span>
<span id="cb21-19"><a href="#cb21-19" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(vars), <span class="sc">~</span><span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.names =</span> <span class="st">&quot;{col}_avg&quot;</span>), <span class="at">.keep =</span> <span class="st">&quot;all&quot;</span>)</span>
<span id="cb21-20"><a href="#cb21-20" tabindex="-1"></a>data[, <span class="fu">paste</span>(vars, <span class="st">&quot;avg&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(data[, <span class="fu">paste</span>(vars, <span class="st">&quot;avg&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)], <span class="cf">function</span>(col) {</span>
<span id="cb21-21"><a href="#cb21-21" tabindex="-1"></a>  col[<span class="fu">is.nan</span>(col)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb21-22"><a href="#cb21-22" tabindex="-1"></a>  <span class="fu">return</span>(col)</span>
<span id="cb21-23"><a href="#cb21-23" tabindex="-1"></a>})</span>
<span id="cb21-24"><a href="#cb21-24" tabindex="-1"></a>take_logs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;pc_rgdpe_pwt&quot;</span>, <span class="st">&quot;pop_wpp&quot;</span>, <span class="st">&quot;pop_density_wpp&quot;</span>, <span class="st">&quot;life_exp_wpp&quot;</span>)</span>
<span id="cb21-25"><a href="#cb21-25" tabindex="-1"></a>take_logs <span class="ot">&lt;-</span> <span class="fu">c</span>(take_logs, <span class="fu">paste</span>(take_logs, <span class="st">&quot;avg&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>))</span>
<span id="cb21-26"><a href="#cb21-26" tabindex="-1"></a>take_logs_negative <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;imr_wpp&quot;</span>, <span class="st">&quot;ufmr_wpp&quot;</span>, <span class="st">&quot;daly_ihme&quot;</span>, <span class="st">&quot;asfr_adol_wpp&quot;</span>)</span>
<span id="cb21-27"><a href="#cb21-27" tabindex="-1"></a>take_logs_negative <span class="ot">&lt;-</span> <span class="fu">c</span>(take_logs_negative, <span class="fu">paste</span>(take_logs_negative, <span class="st">&quot;avg&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>))</span>
<span id="cb21-28"><a href="#cb21-28" tabindex="-1"></a><span class="fu">summary</span>(data[, <span class="fu">sort</span>(<span class="fu">c</span>(take_logs, take_logs_negative))])</span></code></pre></div>
<pre><code>##  asfr_adol_wpp      asfr_adol_wpp_avg    daly_ihme       daly_ihme_avg        imr_wpp          imr_wpp_avg        life_exp_wpp   life_exp_wpp_avg  pc_rgdpe_pwt      pc_rgdpe_pwt_avg   pop_density_wpp     pop_density_wpp_avg
##  Min.   :-242.574   Min.   :-242.574   Min.   :-788016   Min.   :-251744   Min.   :-319.239   Min.   :-319.239   Min.   :14.49   Min.   :14.49    Min.   :   244.6   Min.   :   460.6   Min.   :    0.615   Min.   :    0.615  
##  1st Qu.:-117.050   1st Qu.:-114.743   1st Qu.: -50724   1st Qu.: -51072   1st Qu.: -85.913   1st Qu.: -81.977   1st Qu.:55.06   1st Qu.:55.78    1st Qu.:  2486.8   1st Qu.:  2502.9   1st Qu.:   19.004   1st Qu.:   18.845  
##  Median : -69.553   Median : -68.097   Median : -32776   Median : -32862   Median : -40.161   Median : -38.269   Median :66.91   Median :67.30    Median :  6464.4   Median :  6428.3   Median :   60.446   Median :   60.951  
##  Mean   : -78.652   Mean   : -77.720   Mean   : -43276   Mean   : -43706   Mean   : -56.186   Mean   : -53.855   Mean   :63.73   Mean   :64.16    Mean   : 13084.9   Mean   : 13030.4   Mean   :  265.005   Mean   :  264.963  
##  3rd Qu.: -29.676   3rd Qu.: -29.279   3rd Qu.: -27130   3rd Qu.: -27352   3rd Qu.: -15.363   3rd Qu.: -14.938   3rd Qu.:72.89   3rd Qu.:73.07    3rd Qu.: 16343.7   3rd Qu.: 16156.1   3rd Qu.:  140.414   3rd Qu.:  141.147  
##  Max.   :  -0.283   Max.   :  -0.283   Max.   : -15334   Max.   : -15340   Max.   :  -1.254   Max.   :  -1.254   Max.   :84.43   Max.   :84.43    Max.   :279357.1   Max.   :254249.5   Max.   :26152.349   Max.   :25857.551  
##  NA&#39;s   :8259       NA&#39;s   :773        NA&#39;s   :5145      NA&#39;s   :4137      NA&#39;s   :8259       NA&#39;s   :773        NA&#39;s   :8259    NA&#39;s   :773      NA&#39;s   :1517       NA&#39;s   :1445       NA&#39;s   :301         NA&#39;s   :299        
##     pop_wpp           pop_wpp_avg           ufmr_wpp         ufmr_wpp_avg     
##  Min.   :      6.3   Min.   :      6.4   Min.   :-465.517   Min.   :-465.517  
##  1st Qu.:   1503.2   1st Qu.:   1497.0   1st Qu.:-129.686   1st Qu.:-121.763  
##  Median :   6052.4   Median :   6062.8   Median : -50.881   Median : -48.615  
##  Mean   :  30120.1   Mean   :  30125.1   Mean   : -84.469   Mean   : -80.710  
##  3rd Qu.:  18647.1   3rd Qu.:  18753.9   3rd Qu.: -18.328   3rd Qu.: -17.785  
##  Max.   :1433783.7   Max.   :1424125.7   Max.   :  -1.765   Max.   :  -1.765  
##  NA&#39;s   :301         NA&#39;s   :299         NA&#39;s   :8259       NA&#39;s   :773</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>data[, <span class="fu">paste</span>(<span class="st">&quot;lg&quot;</span>, take_logs, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(data[, take_logs], log)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>data[, <span class="fu">paste</span>(<span class="st">&quot;lg&quot;</span>, take_logs_negative, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(data[, take_logs_negative], <span class="cf">function</span>(col) { <span class="sc">-</span><span class="fu">log</span>(<span class="sc">-</span>col) })</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="fu">summary</span>(data[, <span class="fu">paste</span> (<span class="st">&quot;lg&quot;</span>, <span class="fu">sort</span>(<span class="fu">c</span>(take_logs, take_logs_negative)), <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)])</span></code></pre></div>
<pre><code>##  lg_asfr_adol_wpp lg_asfr_adol_wpp_avg  lg_daly_ihme     lg_daly_ihme_avg    lg_imr_wpp     lg_imr_wpp_avg    lg_life_exp_wpp lg_life_exp_wpp_avg lg_pc_rgdpe_pwt  lg_pc_rgdpe_pwt_avg lg_pop_density_wpp lg_pop_density_wpp_avg
##  Min.   :-5.491   Min.   :-5.491       Min.   :-13.577   Min.   :-12.436   Min.   :-5.766   Min.   :-5.7659   Min.   :2.673   Min.   :2.674       Min.   : 5.500   Min.   : 6.133      Min.   :-0.4861    Min.   :-0.4861       
##  1st Qu.:-4.763   1st Qu.:-4.743       1st Qu.:-10.834   1st Qu.:-10.841   1st Qu.:-4.453   1st Qu.:-4.4064   1st Qu.:4.008   1st Qu.:4.021       1st Qu.: 7.819   1st Qu.: 7.825      1st Qu.: 2.9447    1st Qu.: 2.9362       
##  Median :-4.242   Median :-4.221       Median :-10.397   Median :-10.400   Median :-3.693   Median :-3.6446   Median :4.203   Median :4.209       Median : 8.774   Median : 8.768      Median : 4.1018    Median : 4.1101       
##  Mean   :-3.996   Mean   :-3.983       Mean   :-10.548   Mean   :-10.556   Mean   :-3.521   Mean   :-3.4863   Mean   :4.135   Mean   :4.143       Mean   : 8.773   Mean   : 8.772      Mean   : 3.9727    Mean   : 3.9733       
##  3rd Qu.:-3.390   3rd Qu.:-3.377       3rd Qu.:-10.208   3rd Qu.:-10.217   3rd Qu.:-2.732   3rd Qu.:-2.7039   3rd Qu.:4.289   3rd Qu.:4.291       3rd Qu.: 9.702   3rd Qu.: 9.690      3rd Qu.: 4.9446    3rd Qu.: 4.9498       
##  Max.   : 1.262   Max.   : 1.262       Max.   : -9.638   Max.   : -9.638   Max.   :-0.226   Max.   :-0.2263   Max.   :4.436   Max.   :4.436       Max.   :12.540   Max.   :12.446      Max.   :10.1717    Max.   :10.1604       
##  NA&#39;s   :8259     NA&#39;s   :773          NA&#39;s   :5145      NA&#39;s   :4137      NA&#39;s   :8259     NA&#39;s   :773       NA&#39;s   :8259    NA&#39;s   :773         NA&#39;s   :1517     NA&#39;s   :1445        NA&#39;s   :301        NA&#39;s   :299           
##    lg_pop_wpp     lg_pop_wpp_avg    lg_ufmr_wpp     lg_ufmr_wpp_avg  
##  Min.   : 1.847   Min.   : 1.864   Min.   :-6.143   Min.   :-6.1431  
##  1st Qu.: 7.315   1st Qu.: 7.311   1st Qu.:-4.865   1st Qu.:-4.8021  
##  Median : 8.708   Median : 8.710   Median :-3.929   Median :-3.8839  
##  Mean   : 8.430   Mean   : 8.431   Mean   :-3.818   Mean   :-3.7808  
##  3rd Qu.: 9.833   3rd Qu.: 9.839   3rd Qu.:-2.908   3rd Qu.:-2.8784  
##  Max.   :14.176   Max.   :14.169   Max.   :-0.568   Max.   :-0.5682  
##  NA&#39;s   :301      NA&#39;s   :299      NA&#39;s   :8259     NA&#39;s   :773</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># viol_vars &lt;- c(&quot;conflict_internal&quot;, &quot;war_internal&quot;, &quot;conflict_non_state&quot;, </span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="co">#                &quot;conflict_one_sided&quot;, &quot;latentmean_fariss&quot;, &quot;v2cltort&quot;, &quot;v2clkill&quot;)</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>viol_vars_log <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;deaths_all_int&quot;</span>, <span class="st">&quot;deaths_civilians_int&quot;</span>, <span class="st">&quot;deaths_civilians_osv&quot;</span>, </span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>                   <span class="st">&quot;deaths_all_nsc&quot;</span>, <span class="st">&quot;deaths_civilians_nsc&quot;</span>, <span class="st">&quot;deaths_all_ucdp&quot;</span>, <span class="st">&quot;hom_odcwho&quot;</span>)</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>viol_vars_log <span class="ot">&lt;-</span> <span class="fu">c</span>(viol_vars_log, </span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>                   <span class="fu">paste</span>(viol_vars_log, <span class="st">&quot;rate&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>), </span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>                   <span class="fu">paste</span>(viol_vars_log, <span class="st">&quot;avg&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>), </span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>                   <span class="fu">paste</span>(viol_vars_log, <span class="st">&quot;rate_avg&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>))</span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>data[, <span class="fu">paste</span>(<span class="st">&quot;lg&quot;</span>, viol_vars_log, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(data[, viol_vars_log], <span class="cf">function</span>(col) { <span class="fu">log</span>(col <span class="sc">+</span> <span class="dv">1</span>) })</span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>CodePerformance <span class="ot">&lt;-</span> <span class="cf">function</span>(y_var, x_vars, df) {</span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a>  x_vars <span class="ot">&lt;-</span> <span class="fu">paste</span>(x_vars, <span class="at">collapse =</span> <span class="st">&quot; + &quot;</span>)</span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a>  equation <span class="ot">&lt;-</span> <span class="fu">paste</span>(y_var, <span class="st">&quot;~&quot;</span>, x_vars)</span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(<span class="fu">get_all_vars</span>(<span class="at">formula =</span> equation, <span class="at">data =</span> df, <span class="at">country =</span> country, <span class="at">year =</span> year))</span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a>  mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> equation, <span class="at">data =</span> df)</span>
<span id="cb25-15"><a href="#cb25-15" tabindex="-1"></a>  df<span class="sc">$</span>predicted <span class="ot">&lt;-</span> <span class="fu">predict</span>(mod)</span>
<span id="cb25-16"><a href="#cb25-16" tabindex="-1"></a>  df[, <span class="fu">paste</span>(<span class="st">&quot;perf&quot;</span>, y_var, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)] <span class="ot">&lt;-</span> df[, y_var] <span class="sc">-</span> df<span class="sc">$</span>predicted</span>
<span id="cb25-17"><a href="#cb25-17" tabindex="-1"></a>  <span class="fu">return</span>(df[, <span class="fu">c</span>(<span class="st">&quot;country&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="fu">paste</span>(<span class="st">&quot;perf&quot;</span>, y_var, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>))])</span>
<span id="cb25-18"><a href="#cb25-18" tabindex="-1"></a>}</span>
<span id="cb25-19"><a href="#cb25-19" tabindex="-1"></a><span class="fu">names</span>(vars) <span class="ot">&lt;-</span> vars <span class="ot">&lt;-</span> <span class="fu">paste</span>(vars, <span class="st">&quot;avg&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb25-20"><a href="#cb25-20" tabindex="-1"></a><span class="fu">names</span>(years) <span class="ot">&lt;-</span> years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">1965</span>, <span class="dv">2015</span>, <span class="dv">5</span>), <span class="dv">2018</span>)</span>
<span id="cb25-21"><a href="#cb25-21" tabindex="-1"></a>performance_measures <span class="ot">&lt;-</span> <span class="fu">lapply</span>(vars, <span class="cf">function</span>(var) {</span>
<span id="cb25-22"><a href="#cb25-22" tabindex="-1"></a>  results <span class="ot">&lt;-</span> <span class="fu">lapply</span>(years, <span class="cf">function</span>(year) {</span>
<span id="cb25-23"><a href="#cb25-23" tabindex="-1"></a>    dat <span class="ot">&lt;-</span> data[data<span class="sc">$</span>year <span class="sc">==</span> year, <span class="fu">c</span>(<span class="st">&quot;country&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;lg_pc_rgdpe_pwt_avg&quot;</span>, var)]</span>
<span id="cb25-24"><a href="#cb25-24" tabindex="-1"></a>      <span class="cf">if</span>(<span class="fu">nrow</span>(<span class="fu">na.omit</span>(dat)) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb25-25"><a href="#cb25-25" tabindex="-1"></a>        <span class="fu">CodePerformance</span>(<span class="at">y_var =</span> var, <span class="at">x_vars =</span> <span class="st">&quot;lg_pc_rgdpe_pwt_avg&quot;</span>, <span class="at">df =</span> dat)</span>
<span id="cb25-26"><a href="#cb25-26" tabindex="-1"></a>      }</span>
<span id="cb25-27"><a href="#cb25-27" tabindex="-1"></a>  })</span>
<span id="cb25-28"><a href="#cb25-28" tabindex="-1"></a>  results <span class="ot">&lt;-</span> results[<span class="sc">!</span><span class="fu">unlist</span>(<span class="fu">lapply</span>(results, is.null))]</span>
<span id="cb25-29"><a href="#cb25-29" tabindex="-1"></a>  <span class="fu">do.call</span>(rbind, results)</span>
<span id="cb25-30"><a href="#cb25-30" tabindex="-1"></a>})</span>
<span id="cb25-31"><a href="#cb25-31" tabindex="-1"></a>performance_measures <span class="ot">&lt;-</span> <span class="fu">Reduce</span>(<span class="at">f =</span> <span class="cf">function</span>(...) <span class="fu">merge</span>(..., <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;country&quot;</span>, <span class="st">&quot;year&quot;</span>), <span class="at">all =</span> <span class="cn">TRUE</span>), <span class="at">x =</span> performance_measures)</span>
<span id="cb25-32"><a href="#cb25-32" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">merge</span>(data, performance_measures, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;country&quot;</span>, <span class="st">&quot;year&quot;</span>), <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-33"><a href="#cb25-33" tabindex="-1"></a><span class="fu">save</span>(data, codebook, categories, variables, <span class="at">file =</span> <span class="st">&quot;_data/LSCMWG_working_data.RData&quot;</span>)</span></code></pre></div>
</div>
</div>

<script type="text/javascript" src="links.js"></script>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
