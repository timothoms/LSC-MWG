---
params: 
  set_title: "Panel Regressions"
  cache: true
  optimize: false
  lags: 1
  begin: 1965
  end: 2018
  incl_new: true
title: "`r params$set_title`"
---

```{r global, include = FALSE}
source("setup.R")
knitr::opts_chunk$set(fig.width = 12, fig.height = 12, rows.print = 12, 
                      out.width = "100%", out.height = "100%")
library(plm)
```


```{r prelim}
IsTrue <- function(x) { !is.na(x) & x }
load("_data/LSCMWG_working_class.RData")
vars <- c("pc_rgdpe_pwt", "pop_wpp", unlist(variables[c("health_full", "gender_full", "conflict_incidence", 
                                                        "death_rates", "measurement_models", "political")], 
                                            use.names = FALSE), 
          paste("perf", unlist(variables[c("health", "gender")], use.names = FALSE), sep = "_"),
          "gdi_hdr", "gii_hdr", "mmr_unicef"          
          )
dfp <- df[, c("country", "year", "period", "health_class", "gender_class", 
              "class", "class_alt", "class_vv", "class_vv_alt", "class_low", "class_HG", "class_GH", "class_mid", "class_upp", vars)]
dfp <- dfp %>% dplyr::arrange(country, period, year)
dfp <- dfp %>% group_by(country, period) %>% 
  mutate(across(all_of(vars), ~mean(.x, na.rm = TRUE), .names = "{col}"), .keep = "all")
dfp[, vars] <- lapply(dfp[, vars], function(col) {
  col[is.nan(col)] <- NA
  return(col)
})
take_logs <- c("pc_rgdpe_pwt", "pop_wpp", "life_exp_wpp", "mys_ratio_hdr")
take_logs_negative <- c("imr_wpp", "ufmr_wpp", "daly_ihme", "asfr_adol_wpp")
dfp[, paste("lg", take_logs, sep = "_")] <- lapply(dfp[, take_logs], log)
dfp[, paste("lg", take_logs_negative, sep = "_")] <- lapply(dfp[, take_logs_negative], 
                                                            function(col) { -log(-col) })
# summary(dfp[, c(take_logs, take_logs_negative)])
viol_vars <- c("conflict_internal", "war_internal", "conflict_non_state", 
               "conflict_one_sided", "latentmean_fariss", "v2cltort", "v2clkill")
viol_vars_log <- c("deaths_all_int_rate", "deaths_civilians_int_rate", "deaths_civilians_osv_rate", 
                   "deaths_all_nsc_rate", "deaths_civilians_nsc_rate", "deaths_all_ucdp_rate", "hom_odcwho_rate")
dfp[, paste("lg", viol_vars_log, sep = "_")] <- lapply(dfp[, viol_vars_log], function(col) { log(col + 1) })
dfp$health_class_low <- NA
dfp$health_class_low[dfp$health_class < 3] <- 1
dfp$health_class_low[dfp$health_class >= 3] <- 0
dfp$health_class_upp <- NA
dfp$health_class_upp[dfp$health_class > 3] <- 1
dfp$health_class_upp[dfp$health_class <= 3] <- 0
dfp$gender_class_low <- NA
dfp$gender_class_low[dfp$gender_class < 3] <- 1
dfp$gender_class_low[dfp$gender_class >= 3] <- 0
dfp$gender_class_upp <- NA
dfp$gender_class_upp[dfp$gender_class > 3] <- 1
dfp$gender_class_upp[dfp$gender_class <= 3] <- 0
dfp_lag <- dfp <- dfp[dfp$year %in% c(seq(1965, 2015, 5), 2018), names(dfp) != "period"]
names(dfp_lag)[!names(dfp_lag) %in% c("country", "year", "period")] <- 
  paste("lag", names(dfp_lag)[!names(dfp_lag) %in% c("country", "year", "period")], sep = "_")
number_of_lags <- ifelse(params$lags %in% 1:3, params$lags, 1)
dfp_lag$year <- dfp_lag$year + 5*number_of_lags
dfp_lag$year[dfp_lag$year == 2020] <- 2018
dfp <- merge(dfp, dfp_lag, by = c("country", "year"), all.x = TRUE)
dfp <- dfp[dfp$year >= 1965 + 5*number_of_lags, ]
dfp <- dfp[dfp$year >= params$begin & dfp$year <= params$end, ]
dfp[, paste("growth", c(variables$health, variables$gender), sep = "_")] <- 
  lapply(c(variables$health, variables$gender), function(colname) {
    dfp[, colname] - dfp[, paste("lag", colname, sep = "_")]
  })
dfp[, paste("growth_lg", c(variables$health, "asfr_adol_wpp"), sep = "_")] <- 
  lapply(c(variables$health, "asfr_adol_wpp"), function(colname) {
    dfp[, paste("lg", colname, sep = "_")] - dfp[, paste("lag_lg", colname, sep = "_")]
  })

# functions
source("~/Dropbox/Analyses/functions/RegressionFig.R")
RunModels <- function(equations,
  estimators_to_show = c("fe", "fegls"),
  labelspace = 18,
  pdfname = NULL,
  pdfswitch = FALSE
){
  if(is.null(names(equations))) names(equations) <- paste("m", 1:length(equations), sep = "")
  PanelModel <- function(equation, estimator, estimation_function, effect = "individual", ses = "se") {
    fit <- do.call(estimation_function, 
                   args = list(formula = equation, data = dfp, index = c("country", "year"), 
                               model = estimator, effect = effect), quote = TRUE)
    est <- data.frame(var = names(fit$coefficients), est = fit$coefficients, se = sqrt(diag(fit$vcov)))
    if(class(fit)[1] == "plm" & "crse" %in% ses & "se" %in% ses) {
      est$crse <- sqrt(diag(sandwich::vcovHC(fit, method = "arellano", type = "HC0", cluster = "group")))
    }
    if(class(fit)[1] == "plm" & !("se" %in% ses)) {
      est$se <- sqrt(diag(sandwich::vcovHC(fit, method = "arellano", type = "HC0", cluster = "group")))
    }
    info <- list(N = nrow(fit[["model"]]),
                 n = length(unique(attributes(fit$model)$index$country)),
                 T = noquote(paste(range(table(attributes(fit$model)$index$country)), collapse = "-")),
                 years = noquote(paste(range(unique(as.character(attributes(fit$model)$index$year))), 
                                       collapse = "-")))
    if(class(fit)[1] == "plm") info$rsquared = round(summary(fit)[["r.squared"]][["adjrsq"]], 2)
    if(class(fit)[1] == "pggls") info$rsquared = round(summary(fit)[["rsqr"]], 2)
    # if(class(fit)[1] == "plm") info$ftest <- summary(fit)[["fstatistic"]][["p.value"]]
    return(list(fit = fit, est = est, info = info))
  }
  estlist <- lapply(c(ols = "pooling", fe = "within", re = "random"), function(estimator) { # estimator = "within"
    lapply(equations, function(equation) { 
      PanelModel(equation = equation, estimator = estimator, estimation_function = plm::plm, ses = "crse")
    })
  })
  estlist <- c(estlist, lapply(c(ggls = "pooling", fegls = "within"), function(estimator) { # estimator = "within"
    lapply(equations, function(equation) { 
      PanelModel(equation = equation, estimator = estimator, estimation_function = plm::pggls, ses = "se")
    })
  }) )
  test_args_list <- list(
    list(what = "unit effects", testfunction = "pFtest", x_estimator = "fe", z_estimator = "ols"),
    list(what = "unit effects", testfunction = "plmtest", x_estimator = "ols"),
    list(what = "unit effects", testfunction = "plmtest", x_estimator = "ols", effect = "time"),
    list(what = "unit effects", testfunction = "plmtest", x_estimator = "ols", effect = "twoways"),
    list(what = "correlated effects", testfunction = "phtest", x_estimator = "fe", x2_estimator = "re"),
    list(what = "correlated effects", testfunction = "phtest", x_estimator = "fegls", x2_estimator = "ggls", note = "(FGLS)"),
    ## any type of serial corr. of time-decaying kind in the ideosyncratic error terms
    list(what = "ideosyncratic serial corr.", testfunction = "pwtest", x_estimator = "ols"),
    ## serial corr.: detecting features of persistence
    list(what = "persistent serial corr.", testfunction = "pbsytest", x_estimator = "ols", test = "ar"),
    list(what = "persistent serial corr.", testfunction = "pbsytest", x_estimator = "ols", test = "re"),
    ## list(what = "persistent serial corr.", testfunction = "pbsytest", x_estimator = "ols", test = "j"),
    list(what = "persistent serial corr.", testfunction = "pbltest", x_estimator = "re", alternative = "onesided"),
    # list(what = "traditional serial corr.", testfunction = "pbgtest", x_estimator = "re", order = "2"), ## relies on large-T assymptotics
    # list(what = "traditional serial corr.", testfunction = "pdwtest", x_estimator = "re", order = "2"), ## relies on large-T assymptotics
    list(what = "traditional serial corr.", testfunction = "pwartest", x_estimator = "fe")
  )
  names(models) <- models <- unique(unlist(lapply(estlist, names)))
  results <- lapply(test_args_list, function(test_args) { 
    tests <- lapply(models, function(modelname, args = test_args) { 
      args$x <- estlist[[args$x_estimator]][[modelname]]$fit
      if("z_estimator" %in% names(args)) args$z <- estlist[[args$z_estimator]][[modelname]]$fit
      if("x2_estimator" %in% names(args)) args$x2 <- estlist[[args$x2_estimator]][[modelname]]$fit
      exclude <- c("testfunction", "x_estimator", "z_estimator", "note")
      test_results <- do.call(args$testfunction, args = args[!names(args) %in% exclude], quote = TRUE)
      test_results$method <- paste(args$testfunction, test_results$method, sep = ": ")
      if("note" %in% names(args)) test_results$method <- paste(test_results$method, args$note)
      data.frame(what = args$what, test_results[c("method", "alternative", "p.value")])
    })
    tests <- lapply(names(tests), function(modelname) {
      names(tests[[modelname]])[4] <- modelname
      return(tests[[modelname]])
    })
    Reduce(f = function(...) merge(..., by = c("what", "method", "alternative"), all = TRUE), x = tests)
  })
  tests <- do.call(rbind, results)
  tests[, !names(tests) %in% c("what", "method", "alternative")] <- 
    format(round(tests[, !names(tests) %in% c("what", "method", "alternative")], 3), nsmall = 3)
  
  
  tests <- tests[, c("what", "method", names(tests)[!names(tests) %in% c("what", "method", "alternative")], "alternative")]
  estimators_to_show <- estimators_to_show[estimators_to_show %in% names(estlist)]
  if(pdfswitch & !is.null(pdfname)) pdf(file = paste("pdfs/", pdfname, ".pdf", sep = ""), width = 16, height = 9)
  RegressionFig(estlist = estlist[estimators_to_show], 
                labels = c(ols = "pooling models", fe = "FE models", re = "RE models", 
                           ggls = "GGLS models", fegls = "FEGLS models")[estimators_to_show], 
                labelspace = labelspace)
  if(pdfswitch & !is.null(pdfname)) dev.off()
  output <- list(ests = estlist, tests = tests)
  return(output)
}
InteractionEffect <- function(
  effect             , # name of variable for effect calculation
  interaction        , # name of single interaction variable
  modvalues = c(0, 1), # values of moderator variable; default is for dummy variable
  coefs              ,
  varcov
){### general function for marginal effects calculated from coefficients
  if(is.null(colnames(varcov))) rownames(varcov) <- colnames(varcov) <- names(coefs)
  if(is.null(names(modvalues))) names(modvalues) <- modvalues
  eff <- coefs[effect]
  int <- coefs[interaction]
  est <- eff + int * modvalues
  vcv <- varcov[effect, effect] + modvalues^2 * varcov[interaction, interaction] + 2 * modvalues * varcov[effect, interaction]
  se  <- sqrt(vcv)
  return(list(est = est, se = se))
}
IntPlot <- function(fit, eff_var, 
  int_vars = c("G>H" = paste(eff_var, ":lag_class_GH", sep = ""), 
               "H>G" = paste(eff_var, ":lag_class_HG", sep = ""), 
               mid   = paste(eff_var, ":lag_class_mid", sep = ""), 
               upp   = paste(eff_var, ":lag_class_upp", sep = "")), 
  modvalues = c(0, 1),
  ref_cat = "low",
  title = "",
  pdfname = NULL,
  pdfswitch = FALSE
){
  confidence = 0.95
  zscore <- qnorm(1 - ((1 - confidence)/2))
  if (class(fit)[1] == "pggls") {
    varcov <- vcov(fit)
  } else {
    varcov <- sandwich::vcovHC(fit, method = "arellano", type = "HC0", cluster = "group")
  }
  ests <- lapply(int_vars, function(int_var) {
    InteractionEffect(coefs = fit$coef, varcov = varcov, effect = eff_var, interaction = int_var, modvalues = modvalues)
  })
  ref <- unique(lapply(ests, function(toplevel) lapply(toplevel, function(x) x[1])))
  names(ref) <- ref_cat
  ests <- lapply(ests, function(toplevel) lapply(toplevel, function(x) x[-1]))
  ests <- c(ref, ests)
  ests <- do.call(rbind, lapply(ests, function(x) {
    cilower <- x$est - zscore * x$se
    ciupper <- x$est + zscore * x$se
    return(data.frame(est = x$est, cilower = cilower, ciupper = ciupper))
  }))
  ests <- ests[order(rownames(ests)), ]
  ylimits <- range(list(ests, 0))
  if(pdfswitch & !is.null(pdfname)) pdf(file = paste("pdfs/", pdfname, ".pdf", sep = ""), width = 8, height = 4.5)
  plot(x = 1:nrow(ests), y = ests$est, ylim = ylimits, xlim = c(0.5, nrow(ests) + 0.5), 
       pch = 18, ylab = "", xlab = "", xaxt = "n", main = title)
  segments(x0 = 1:nrow(ests), y0 = ests$cilower, y1 = ests$ciupper, lwd = 2, lend = "butt")
  abline(h = 0, lwd = 0.5)
  axis(side = 1, at = 1:nrow(ests), labels = rownames(ests), tick = FALSE)
  if(pdfswitch & !is.null(pdfname)) dev.off()
  invisible(NULL)
}
```


### {.tabset .tabset-fade .tabset-pills}

#### Health {.tabset .tabset-fade .tabset-pills}

```{r echo = FALSE}
knitr::asis_output("##### DV: Life Expectancy {.tabset .tabset-fade .tabset-pills} ")
```
```{r echo = FALSE}
knitr::asis_output("###### Base models")
```
```{r life_exp}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_mid,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp)
)
results$tests
```

```{r echo = FALSE}
knitr::asis_output("###### UCDP conflict incidence")
```
```{r life_exp_incidence}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_internal,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_one_sided,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_non_state,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_life_exp_incidence, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-Sided Violence on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-Sided Violence on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Life Expectancy (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence (NEW)")
```
```{r life_exp_incidence_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_internal,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_one_sided,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_non_state,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_life_exp_incidence_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal",
        title = "Effect of Internal Conflict on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Life Expectancy (FEGLS)")
```

```{r echo = FALSE}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths")
```
```{r life_exp_state_deaths}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_int_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_life_exp_state_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Conflict Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Conflict Deaths on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Civilian Conflict Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Civilian Conflict Deaths on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of OSV Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of OSV Deaths on Life Expectancy (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths (NEW)")
```
```{r life_exp_state_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_int_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_HG +lag_lg_deaths_civilians_int_rate*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_life_exp_state_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Internal Conflict Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Internal Conflict Deaths on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of OSV Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of OSV Deaths on Life Expectancy (FEGLS)")
```

```{r echo = FALSE}
knitr::asis_output("###### Societal violence deaths")
```
```{r life_exp_nonstate_deaths}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_hom_odcwho_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_life_exp_nonstate_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides on Life Expectancy (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths (NEW)")
```
```{r life_exp_nonstate_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_hom_odcwho_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_life_exp_nonstate_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides on Life Expectancy (FEGLS)")
```

```{r echo = FALSE}
knitr::asis_output("###### State repression")
```
```{r life_exp_repression}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_latentmean_fariss,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2clkill,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2cltort,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_life_exp_repression, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture on Life Expectancy (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression (NEW)")
```
```{r life_exp_repression_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_latentmean_fariss,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2clkill,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_upp,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2cltort,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_life_exp_repression_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings on Life Expectancy (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture on Life Expectancy (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture on Life Expectancy (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Violence controls (NEW)")
```
```{r life_exp_violence, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_conflict_internal + lag_conflict_non_state + lag_conflict_one_sided,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_all_int_rate + lag_lg_deaths_all_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  life_exp_wpp ~ lag_lg_life_exp_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results$tests
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Infant Mortality Rate (IMR) {.tabset .tabset-fade .tabset-pills}")
```
```{r echo = FALSE}
knitr::asis_output("###### Base models")
```
```{r imr}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_mid,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp)
)
results$tests
```


```{r echo = FALSE}
knitr::asis_output("###### UCDP conflict incidence")
```
```{r imr_incidence}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_internal,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_one_sided,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_non_state,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_imr_incidence, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Infant Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence (NEW)")
```
```{r imr_incidence_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_internal,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_one_sided,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_non_state,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_imr_incidence_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Infant Mortality (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths")
```
```{r imr_state_deaths}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_int_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_imr_state_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Infant Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths (NEW)")
```
```{r imr_state_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_int_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_HG + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_imr_state_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Infant Mortality (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### Societal violence deaths")
```
```{r imr_nonstate_deaths}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_hom_odcwho_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_imr_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides on Infant Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths (NEW)")
```
```{r imr_nonstate_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_hom_odcwho_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_imr_nonstate_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides on Infant Mortality (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### State repression")
```
```{r imr_repression}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_latentmean_fariss,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2clkill,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2cltort,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_imr_repression, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture on Infant Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression (NEW)")
```
```{r imr_repression_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_latentmean_fariss,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2clkill,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_upp,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2cltort,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_imr_repression_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings on Infant Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture on Infant Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture on Infant Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Violence controls (NEW)")
```
```{r imr_violence, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_conflict_internal + lag_conflict_non_state + lag_conflict_one_sided,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_all_int_rate + lag_lg_deaths_all_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  imr_wpp ~ lag_lg_imr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results$tests
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### NEW DV: Under-five Mortality Rate (UFMR) {.tabset .tabset-fade .tabset-pills}")
```
```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Base models")
```
```{r ufmr, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_mid,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp)
)
results$tests
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence")
```
```{r ufmr_incidence, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_internal,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_one_sided,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_non_state,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_ufmr_incidence, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Under-five Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence (NEW)")
```
```{r ufmr_incidence_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_internal,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_one_sided,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_non_state,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_ufmr_incidence_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Under-five Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths")
```
```{r ufmr_state_deaths, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_int_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_ufmr_state_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Under-five Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths (NEW)")
```
```{r ufmr_state_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_int_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_HG + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_ufmr_state_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Under-five Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths")
```
```{r ufmr_nonstate_deaths, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_hom_odcwho_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_ufmr_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides on Under-five Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths (NEW)")
```
```{r ufmr_nonstate_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_hom_odcwho_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_ufmr_nonstate_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides on Under-five Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression")
```
```{r ufmr_repression, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_latentmean_fariss,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2clkill,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2cltort,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_ufmr_repression, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture on Under-five Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression (NEW)")
```
```{r ufmr_repression_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_latentmean_fariss,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2clkill,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_upp,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2cltort,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_ufmr_repression_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings on Under-five Mortality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture on Under-five Mortality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture on Under-five Mortality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Violence controls (NEW)")
```
```{r ufmr_violence, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_conflict_internal + lag_conflict_non_state + lag_conflict_one_sided,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_all_int_rate + lag_lg_deaths_all_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  ufmr_wpp ~ lag_lg_ufmr_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results$tests
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### NEW DV: Disability-adjusted Life Years (DALYs) {.tabset .tabset-fade .tabset-pills}")
```
```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Base models")
```
```{r daly, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_mid,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp)
)
results$tests
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence")
```
```{r daly_incidence, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_internal,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_one_sided,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_non_state,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_daly_incidence, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on DALYs (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence (NEW)")
```
```{r daly_incidence_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_internal,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_one_sided,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_non_state,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_daly_incidence_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on DALYs (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths")
```
```{r daly_state_deaths, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_int_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_daly_state_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on DALYs (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths (NEW)")
```
```{r daly_state_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_int_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_HG + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_daly_state_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on DALYs (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths")
```
```{r daly_nonstate_deaths, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_hom_odcwho_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_daly_nonstate_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides on DALYs (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths (NEW)")
```
```{r daly_nonstate_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_hom_odcwho_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_daly_nonstate_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides on DALYs (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression")
```
```{r daly_repression, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_latentmean_fariss,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2clkill,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2cltort,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_daly_repression, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture on DALYs (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression (NEW)")
```
```{r daly_repression_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_latentmean_fariss,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2clkill,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_upp,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2cltort,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_daly_repression_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings on DALYs (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture on DALYs (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture on DALYs (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Violence controls (NEW)")
```
```{r daly_violence, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_conflict_internal + lag_conflict_non_state + lag_conflict_one_sided,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_all_int_rate + lag_lg_deaths_all_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  daly_ihme ~ lag_lg_daly_ihme + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results$tests
```


#### Gender {.tabset .tabset-fade .tabset-pills}

```{r echo = FALSE}
knitr::asis_output("##### DV: Mean Years of School, ratio of female to male {.tabset .tabset-fade .tabset-pills}")
```
```{r echo = FALSE}
knitr::asis_output("###### Base models")
```
```{r mys}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_mid,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp)
)
results$tests
```

```{r echo = FALSE}
knitr::asis_output("###### UCDP conflict incidence")
```
```{r mys_incidence}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_internal,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_one_sided,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_non_state,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_mys_incidence, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Mean Years of Schooling (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence (NEW)")
```
```{r mys_incidence_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_internal,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_one_sided,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_non_state,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_mys_incidence_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Mean Years of Schooling (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths")
```
```{r mys_state_deaths}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_int_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp
))
results$tests
```
```{r int_mys_state_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Mean Years of Schooling (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths (NEW)")
```
```{r mys_state_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_int_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_HG + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_upp
))
results$tests
```
```{r int_mys_state_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Mean Years of Schooling (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### Societal violence deaths")
```
```{r mys_nonstate_deaths}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_hom_odcwho_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_mys_nonstate_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths\non Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths\non Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides\non Mean Years of Schooling (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths (NEW)")
```
```{r mys_nonstate_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
# mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_hom_odcwho_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_mys_nonstate_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths\non Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths\non Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m5$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m5$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides\non Mean Years of Schooling (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### State repression")
```
```{r mys_repression}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_latentmean_fariss,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2clkill,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2cltort,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_mys_repression, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity\non Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-judicial killings\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-judicial killings\non Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture\non Mean Years of Schooling (FEGLS)")
```


```{r echp = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression (NEW)")
```
```{r mys_repression_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_latentmean_fariss,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2clkill,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_upp,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2cltort,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_mys_repression_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity\non Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings\non Mean Years of Schooling (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture\non Mean Years of Schooling (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture\non Mean Years of Schooling (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Violence controls (NEW)")
```
```{r mys_violence, eval = params$incl_new, include = params$incl_new}
results_mys <- RunModels(equations = c(
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_conflict_internal + lag_conflict_non_state + lag_conflict_one_sided,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_all_int_rate + lag_lg_deaths_all_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  mys_ratio_hdr ~ lag_mys_ratio_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results_mys$tests
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Adolescent Fertility Rate {.tabset .tabset-fade .tabset-pills}")
```
```{r echo = FALSE}
knitr::asis_output("###### Base models")
```
```{r asfr}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_mid,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp)
)
results$tests
```

```{r echo = FALSE}
knitr::asis_output("###### UCDP conflict incidence")
```
```{r asfr_incidence}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_internal,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_one_sided,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_non_state,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_asfr_incidence, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Adolescent Fertility Rate (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence (NEW)")
```
```{r asfr_incidence_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_internal,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_one_sided,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_non_state,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_asfr_incidence_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Adolescent Fertility Rate (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths")
```
```{r asfr_state_deaths}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_int_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp
))
results$tests
```
```{r int_asfr_state_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Adolescent Fertility Rate (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths (NEW)")
```
```{r asfr_state_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_int_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_HG + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_upp
))
results$tests
```
```{r int_asfr_state_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Adolescent Fertility Rate (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### Societal violence deaths")
```
```{r asfr_nonstate_deaths}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_hom_odcwho_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_asfr_nonstate_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths\non Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths\non Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides\non Adolescent Fertility Rate (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths (NEW)")
```
```{r asfr_nonstate_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_hom_odcwho_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_asfr_nonstate_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths\non Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths\non Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides\non Adolescent Fertility Rate (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("###### State repression")
```
```{r asfr_repression}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_latentmean_fariss,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2clkill,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2cltort,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_asfr_repression, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity\non Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-judicial killings\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-judicial killings\non Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture\non Adolescent Fertility Rate (FEGLS)")
```


```{r echp = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression (NEW)")
```
```{r asfr_repression_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_latentmean_fariss,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2clkill,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_upp,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2cltort,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_asfr_repression_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity\non Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings\non Adolescent Fertility Rate (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture\non Adolescent Fertility Rate (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture\non Adolescent Fertility Rate (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Violence controls (NEW)")
```
```{r asfr_violence, eval = params$incl_new, include = params$incl_new}
results_mys <- RunModels(equations = c(
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_conflict_internal + lag_conflict_non_state + lag_conflict_one_sided,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_all_int_rate + lag_lg_deaths_all_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  asfr_adol_wpp ~ lag_lg_asfr_adol_wpp + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results_mys$tests
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### NEW DV: Labour participation ratio {.tabset .tabset-fade .tabset-pills}")
```
```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Base models")
```
```{r labor, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_mid,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp)
)
results$tests
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence")
```
```{r labor_incidence, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_internal,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_one_sided,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_non_state,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_labor_incidence, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Labour participation ratio (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence (NEW)")
```
```{r labor_incidence_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_internal,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_one_sided,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_non_state,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_labor_incidence_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Labour participation ratio (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths")
```
```{r labor_state_deaths, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_int_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp
))
results$tests
```
```{r int_labor_state_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Labour participation ratio (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths (NEW)")
```
```{r labor_state_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_int_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_HG + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_upp
))
results$tests
```
```{r int_labor_state_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Labour participation ratio (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths")
```
```{r labor_nonstate_deaths, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_hom_odcwho_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_labor_nonstate_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths\non Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths\non Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides\non Labour participation ratio (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths (NEW)")
```
```{r labor_nonstate_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_hom_odcwho_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_labor_nonstate_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths\non Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths\non Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides\non Labour participation ratio (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression")
```
```{r labor_repression, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_latentmean_fariss,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2clkill,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2cltort,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_labor_repression, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity\non Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-judicial killings\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-judicial killings\non Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture\non Labour participation ratio (FEGLS)")
```


```{r echp = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression (NEW)")
```
```{r labor_repression_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_latentmean_fariss,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2clkill,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_upp,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2cltort,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_labor_repression_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity\non Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings\non Labour participation ratio (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture\non Labour participation ratio (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture\non Labour participation ratio (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Violence controls (NEW)")
```
```{r labor_violence, eval = params$incl_new, include = params$incl_new}
results_mys <- RunModels(equations = c(
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_conflict_internal + lag_conflict_non_state + lag_conflict_one_sided,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_all_int_rate + lag_lg_deaths_all_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  labor_mod_ratio15_ilo ~ lag_labor_mod_ratio15_ilo + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results_mys$tests
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### NEW DV: Gender Inequality Index (GII) {.tabset .tabset-fade .tabset-pills}")
```
```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Base models")
```
```{r gii, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_mid,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_HG + lag_class_GH + lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp)
)
results$tests
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence")
```
```{r gii_incidence, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_internal,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_one_sided,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_conflict_non_state,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_gii_incidence, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Gender Inequality (FEGLS)")
```

```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP conflict incidence (NEW)")
```
```{r gii_incidence_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_internal,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_one_sided,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_conflict_non_state,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_gii_incidence_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict on Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-sided Violence on Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-state Conflict on Gender Inequality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths")
```
```{r gii_state_deaths, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_int_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp
))
results$tests
```
```{r int_gii_state_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict on Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-sided Violence on Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict on Gender Inequality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### UCDP state-based conflict and OSV deaths (NEW)")
```
```{r gii_state_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_int_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_int_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_HG + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_osv_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_upp
))
results$tests
```
```{r int_gii_state_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths on Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Conflict Civilian Deaths on Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of One-sided Violence Deaths on Gender Inequality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths")
```
```{r gii_nonstate_deaths, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_lg_hom_odcwho_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_gii_nonstate_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Deaths\non Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-state Conflict Civilian Deaths\non Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides\non Gender Inequality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Societal violence deaths (NEW)")
```
```{r gii_nonstate_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_all_nsc_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_deaths_civilians_nsc_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_lg_hom_odcwho_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_gii_nonstate_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of Non-state Conflict Deaths\non Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of Non-state Conflict Civilian Deaths\non Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides\non Gender Inequality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression")
```
```{r gii_repression, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_latentmean_fariss,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2clkill,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp + lag_v2cltort,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_gii_repression, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity\non Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-judicial killings\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-judicial killings\non Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture\non Gender Inequality (FEGLS)")
```


```{r echp = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### State repression (NEW)")
```
```{r gii_repression_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_latentmean_fariss,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2clkill,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_upp,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_mid + lag_class_GH + lag_class_HG + lag_class_upp + lag_v2cltort,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_gii_repression_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity\non Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m4$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings\non Gender Inequality (FEGLS)")
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture\non Gender Inequality (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture\non Gender Inequality (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("###### Violence controls (NEW)")
```
```{r gii_violence, eval = params$incl_new, include = params$incl_new}
results_mys <- RunModels(equations = c(
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_conflict_internal + lag_conflict_non_state + lag_conflict_one_sided,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_all_int_rate + lag_lg_deaths_all_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  gii_hdr ~ lag_gii_hdr + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results_mys$tests
```


#### Violence {.tabset .tabset-fade .tabset-pills}

```{r echo = FALSE}
knitr::asis_output("##### Correlations")
```
```{r violence, message = FALSE, warning = FALSE, results = 'hide'}
vars_viol <- c("conflict_internal", "conflict_one_sided", "conflict_non_state", "lg_deaths_all_int_rate", "lg_deaths_civilians_osv_rate", "lg_deaths_all_nsc_rate", "lg_hom_odcwho_rate", "latentmean_fariss", "v2clkill")
GGally::ggpairs(dfp[, vars_viol], mapping = aes(stroke = 0, alpha = 0.25)) + 
  theme_bw() + 
  theme(strip.text.y.right = element_text(angle = 0)) + 
  ggtitle("Different types of violence")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Internal Conflict")
```
```{r conflict}
results <- RunModels(labelspace = 20, equations = c(
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  conflict_internal ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_low + lag_conflict_internal*lag_class_upp)
) 
results$tests
```
```{r int_conflict, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_internal", 
        int_vars = c(low = "lag_conflict_internal:lag_class_low", 
                     upp = "lag_conflict_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal Conflict (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: Internal Conflict (NEW)")
```
```{r conflict_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  conflict_internal ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_internal*lag_class_HG + lag_conflict_internal*lag_class_GH + lag_conflict_internal*lag_class_mid + lag_conflict_internal*lag_class_upp,
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss,
  conflict_internal ~ lag_conflict_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
) 
results$tests
```
```{r int_conflict_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_internal", 
        title = "Effect of Internal Conflict (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Internal War")
```
```{r war}
results <- RunModels(labelspace = 20, equations = c(
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  war_internal ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_war_internal*lag_class_low + lag_war_internal*lag_class_upp)
)
results$tests
```
```{r int_war, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_war_internal", 
        int_vars = c(low = "lag_war_internal:lag_class_low", 
                     upp = "lag_war_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal War (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_war_internal", 
        int_vars = c(low = "lag_war_internal:lag_class_low", 
                     upp = "lag_war_internal:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Internal War (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: Internal War (NEW)")
```
```{r war_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  war_internal ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_war_internal*lag_class_HG + lag_war_internal*lag_class_GH + lag_war_internal*lag_class_mid + lag_war_internal*lag_class_upp,
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss,
  war_internal ~ lag_war_internal + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_war_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_war_internal", 
        title = "Effect of Internal War (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_war_internal", 
        title = "Effect of Internal War (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Internal Conflict Deaths")
```
```{r conflict_deaths}
results <- RunModels(labelspace = 20, equations = c(
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  deaths_all_int_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_low + lag_lg_deaths_all_int_rate*lag_class_upp)
)
results$tests
```
```{r int_conflict_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Conflict Deaths (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        int_vars = c(low = "lag_lg_deaths_all_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Conflict Deaths (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: Internal Conflict Deaths (NEW)")
```
```{r conflict_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  deaths_all_int_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_int_rate*lag_class_HG + lag_lg_deaths_all_int_rate*lag_class_GH + lag_lg_deaths_all_int_rate*lag_class_mid + lag_lg_deaths_all_int_rate*lag_class_upp,
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss,
  deaths_all_int_rate ~ lag_lg_deaths_all_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_conflict_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_int_rate", 
        title = "Effect of Conflict Deaths (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Internal Conflict Civilian Deaths")
```
```{r conflict_deaths_civ}
results <- RunModels(labelspace = 20, equations = c(
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  deaths_civilians_int_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_low + lag_lg_deaths_civilians_int_rate*lag_class_upp)
)
results$tests
```
```{r int_conflict_deaths_civ, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Civilian Conflict Deaths (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_int_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_int_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Civilian Conflict Deaths (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: Internal Conflict Civilian Deaths (NEW)")
```
```{r conflict_deaths_civ_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  deaths_civilians_int_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_int_rate*lag_class_HG + lag_lg_deaths_civilians_int_rate*lag_class_GH + lag_lg_deaths_civilians_int_rate*lag_class_mid + lag_lg_deaths_civilians_int_rate*lag_class_upp,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_conflict_deaths_civ_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Civilian Conflict Deaths (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_civilians_int_rate", 
        title = "Effect of Civilian Conflict Deaths (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: One-Sided Violence")
```
```{r osv}
results <- RunModels(labelspace = 20, equations = c(
  conflict_one_sided ~ lag_conflict_one_sided + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  conflict_one_sided ~ lag_conflict_one_sided + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  conflict_one_sided ~ lag_conflict_one_sided + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  conflict_one_sided ~ lag_conflict_one_sided + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  conflict_one_sided ~ lag_conflict_one_sided + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  conflict_one_sided ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_low + lag_conflict_one_sided*lag_class_upp)
)
results$tests
```
```{r int_osv, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-Sided Violence (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_one_sided", 
        int_vars = c(low = "lag_conflict_one_sided:lag_class_low", 
                     upp = "lag_conflict_one_sided:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of One-Sided Violence (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: One-Sided Violence (NEW)")
```
```{r osv_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  conflict_one_sided ~ lag_conflict_one_sided + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  conflict_one_sided ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_one_sided*lag_class_HG + lag_conflict_one_sided*lag_class_GH + lag_conflict_one_sided*lag_class_mid + lag_conflict_one_sided*lag_class_upp,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  deaths_civilians_int_rate ~ lag_lg_deaths_civilians_int_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_osv_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-Sided Violence (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_one_sided", 
        title = "Effect of One-Sided Violence (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: OSV Civilian Deaths")
```
```{r osv_deaths}
results <- RunModels(labelspace = 20, equations = c(
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  deaths_civilians_osv_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_low + lag_lg_deaths_civilians_osv_rate*lag_class_upp)
)
results$tests
```
```{r int_osv_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of OSV Civilian Deaths (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_osv_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_osv_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of OSV Civilian Deaths (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: OSV Civilian Deaths (NEW)")
```
```{r osv_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  deaths_civilians_osv_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_osv_rate*lag_class_HG + lag_lg_deaths_civilians_osv_rate*lag_class_GH + lag_lg_deaths_civilians_osv_rate*lag_class_mid + lag_lg_deaths_civilians_osv_rate*lag_class_upp,
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate,
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  deaths_civilians_osv_rate ~ lag_lg_deaths_civilians_osv_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_osv_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of OSV Civilian Deaths (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_civilians_osv_rate", 
        title = "Effect of OSV Civilian Deaths (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Non-State Conflict")
```
```{r nsc}
results <- RunModels(labelspace = 20, equations = c(
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  conflict_non_state ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_low + lag_conflict_non_state*lag_class_upp)
)
results$tests
```
```{r int_nsc, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-State Conflict (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_conflict_non_state", 
        int_vars = c(low = "lag_conflict_non_state:lag_class_low", 
                     upp = "lag_conflict_non_state:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Non-State Conflict (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: Non-State Conflict (NEW)")
```
```{r nsc_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  conflict_non_state ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_conflict_non_state*lag_class_HG + lag_conflict_non_state*lag_class_GH + lag_conflict_non_state*lag_class_mid + lag_conflict_non_state*lag_class_upp,
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate,
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_latentmean_fariss,
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss,
  conflict_non_state ~ lag_conflict_non_state + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_nsc_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-State Conflict (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_conflict_non_state", 
        title = "Effect of Non-State Conflict (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: NSC Deaths")
```
```{r nsc_deaths}
results <- RunModels(labelspace = 20, equations = c(
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  deaths_all_nsc_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_low + lag_lg_deaths_all_nsc_rate*lag_class_upp)
)
results$tests
```
```{r int_nsc_deaths, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of NSC Deaths (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_all_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_all_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of NSC Deaths (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: NSC Deaths (NEW)")
```
```{r nsc_deaths_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  deaths_all_nsc_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_all_nsc_rate*lag_class_HG + lag_lg_deaths_all_nsc_rate*lag_class_GH + lag_lg_deaths_all_nsc_rate*lag_class_mid + lag_lg_deaths_all_nsc_rate*lag_class_upp,
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate,
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_latentmean_fariss,
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss,
  deaths_all_nsc_rate ~ lag_lg_deaths_all_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_nsc_deaths_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of NSC Deaths (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_all_nsc_rate", 
        title = "Effect of NSC Deaths (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: NSC Civilian Deaths")
```
```{r nsc_deaths_civ}
results <- RunModels(labelspace = 20, equations = c(
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  deaths_civilians_nsc_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_low + lag_lg_deaths_civilians_nsc_rate*lag_class_upp)
)
results$tests
```
```{r int_nsc_deaths_civ, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of NSC Civilian Deaths (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        int_vars = c(low = "lag_lg_deaths_civilians_nsc_rate:lag_class_low", 
                     upp = "lag_lg_deaths_civilians_nsc_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of NSC Civilian Deaths (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: NSC Civilian Deaths (NEW)")
```
```{r nsc_deaths_civ_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  deaths_civilians_nsc_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_deaths_civilians_nsc_rate*lag_class_HG + lag_lg_deaths_civilians_nsc_rate*lag_class_GH + lag_lg_deaths_civilians_nsc_rate*lag_class_mid + lag_lg_deaths_civilians_nsc_rate*lag_class_upp,
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate,
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_latentmean_fariss,
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss,
  deaths_civilians_nsc_rate ~ lag_lg_deaths_civilians_nsc_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_nsc_deaths_civ_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of NSC Civilian Deaths (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_deaths_civilians_nsc_rate", 
        title = "Effect of NSC Civilian Deaths (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Latent Physical Integrity")
```
```{r lpi}
results <- RunModels(labelspace = 20, equations = c(
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  latentmean_fariss ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_low + lag_latentmean_fariss*lag_class_upp)
)
results$tests
```
```{r int_lpi, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_latentmean_fariss", 
        int_vars = c(low = "lag_latentmean_fariss:lag_class_low", 
                     upp = "lag_latentmean_fariss:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Latent Physical Integrity (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: Latent Physical Integrity (NEW)")
```
```{r lpi_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  latentmean_fariss ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_latentmean_fariss*lag_class_HG + lag_latentmean_fariss*lag_class_GH + lag_latentmean_fariss*lag_class_mid + lag_latentmean_fariss*lag_class_upp,
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate,
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  latentmean_fariss ~ lag_latentmean_fariss + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_lpi_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_latentmean_fariss", 
        title = "Effect of Latent Physical Integrity (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: State Torture")
```
```{r torture}
results <- RunModels(labelspace = 20, equations = c(
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  v2cltort ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_low + lag_v2cltort*lag_class_upp)
)
results$tests
```
```{r int_tort, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2cltort", 
        int_vars = c(low = "lag_v2cltort:lag_class_low", 
                     upp = "lag_v2cltort:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of State Torture (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: State Torture (NEW)")
```
```{r torture_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  v2cltort ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2cltort*lag_class_HG + lag_v2cltort*lag_class_GH + lag_v2cltort*lag_class_mid + lag_v2cltort*lag_class_upp,
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate,
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  v2cltort ~ lag_v2cltort + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_torture_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_v2cltort", 
        title = "Effect of State Torture (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Extra-Judicial Killings")
```
```{r killings}
results <- RunModels(labelspace = 20, equations = c(
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  v2clkill ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_low + lag_v2clkill*lag_class_upp)
)
results$tests
```
```{r int_killings, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_v2clkill", 
        int_vars = c(low = "lag_v2clkill:lag_class_low", 
                     upp = "lag_v2clkill:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Extra-Judicial Killings (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: Extra-Judicial Killings (NEW)")
```
```{r killings_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  v2clkill ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_v2clkill*lag_class_HG + lag_v2clkill*lag_class_GH + lag_v2clkill*lag_class_mid + lag_v2clkill*lag_class_upp,
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate,
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  v2clkill ~ lag_v2clkill + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_lg_hom_odcwho_rate)
)
results$tests
```
```{r int_killings_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_v2clkill", 
        title = "Effect of Extra-Judicial Killings (FEGLS)")
```


```{r echo = FALSE}
knitr::asis_output("##### DV: Homicides")
```
```{r homicides}
results <- RunModels(labelspace = 20, equations = c(
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_life_exp_wpp,
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_imr_wpp,
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_mys_ratio_hdr,
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_asfr_adol_wpp,
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_low + lag_class_upp,
  hom_odcwho_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_low + lag_lg_hom_odcwho_rate*lag_class_upp)
)
results$tests
```
```{r int_homicides, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold'}
IntPlot(fit = results$ests$fe$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides (FE)")
IntPlot(fit = results$ests$fegls$m6$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        int_vars = c(low = "lag_lg_hom_odcwho_rate:lag_class_low", 
                     upp = "lag_lg_hom_odcwho_rate:lag_class_upp"), 
        ref_cat = "mid",
        title = "Effect of Homicides (FEGLS)")
```


```{r echo = FALSE, eval = params$incl_new, include = params$incl_new}
knitr::asis_output("##### DV: Homicides (NEW)")
```
```{r homicides_class, eval = params$incl_new, include = params$incl_new}
results <- RunModels(labelspace = 20, equations = c(
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp,
  hom_odcwho_rate ~ lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_lg_hom_odcwho_rate*lag_class_HG + lag_lg_hom_odcwho_rate*lag_class_GH + lag_lg_hom_odcwho_rate*lag_class_mid + lag_lg_hom_odcwho_rate*lag_class_upp,
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate,
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_latentmean_fariss,
  hom_odcwho_rate ~ lag_lg_hom_odcwho_rate + lag_lg_pc_rgdpe_pwt + lag_lg_pop_wpp + lag_v2x_partipdem + lag_class_HG + lag_class_GH + lag_class_mid + lag_class_upp + lag_lg_deaths_civilians_int_rate + lag_lg_deaths_civilians_nsc_rate + lag_lg_deaths_civilians_osv_rate + lag_latentmean_fariss)
)
results$tests
```
```{r int_homicides_class, fig.width = 7, fig.height = 5, out.width = "50%", out.height = "50%", fig.show = 'hold', eval = params$incl_new, include = params$incl_new}
IntPlot(fit = results$ests$fe$m2$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides (FE)")
IntPlot(fit = results$ests$fegls$m2$fit, 
        eff_var = "lag_lg_hom_odcwho_rate", 
        title = "Effect of Homicides (FEGLS)")
```
